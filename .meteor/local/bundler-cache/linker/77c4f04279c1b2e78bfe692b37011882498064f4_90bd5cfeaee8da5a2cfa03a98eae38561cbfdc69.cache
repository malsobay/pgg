[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nPromise = Package.promise.Promise;\n_ = Package.underscore._;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"exit\":{\"ExitSurvey.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/exit/ExitSurvey.jsx                                                                                   //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ExitSurvey\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nconst Radio = (_ref) => {\n  let {\n    selected,\n    name,\n    value,\n    label,\n    onChange\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: name,\n    value: value,\n    checked: selected === value,\n    onChange: onChange\n  }), label);\n};\n\nclass ExitSurvey extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      age: \"\",\n      gender: \"\",\n      strength: \"\",\n      fair: \"\",\n      feedback: \"\"\n    };\n\n    this.handleChange = event => {\n      const el = event.currentTarget;\n      this.setState({\n        [el.name]: el.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.props.onSubmit(this.state);\n    };\n  }\n\n  render() {\n    const {\n      game,\n      player\n    } = this.props;\n    const {\n      age,\n      gender,\n      strength,\n      fair,\n      feedback,\n      education\n    } = this.state;\n    const earnings = player.get(\"earnings\");\n    const basePay = game.treatment.basePay;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"exit-survey\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Exit Survey \"), /*#__PURE__*/React.createElement(\"p\", null, \"Please submit the following code to receive your bonus:\", \" \", /*#__PURE__*/React.createElement(\"strong\", null, player._id), \".\"), /*#__PURE__*/React.createElement(\"p\", null, \"Your final \", /*#__PURE__*/React.createElement(\"strong\", null, \"bonus\"), \" is $7 in addition of the\", /*#__PURE__*/React.createElement(\"strong\", null, \" $3 reward\"), \" for completing the HIT.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, \"Please answer the following short survey. You do not have to provide any information you feel uncomfortable with.\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"age\"\n    }, \"Age\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"age\",\n      type: \"number\",\n      min: \"0\",\n      max: \"150\",\n      step: \"1\",\n      dir: \"auto\",\n      name: \"age\",\n      value: age,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"gender\"\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"gender\",\n      type: \"text\",\n      dir: \"auto\",\n      name: \"gender\",\n      value: gender,\n      onChange: this.handleChange,\n      autoComplete: \"off\"\n    })))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, \"Highest Education Qualification\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"high-school\",\n      label: \"High School\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"bachelor\",\n      label: \"US Bachelor's Degree\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"master\",\n      label: \"Master's or higher\",\n      onChange: this.handleChange\n    }), /*#__PURE__*/React.createElement(Radio, {\n      selected: education,\n      name: \"education\",\n      value: \"other\",\n      label: \"Other\",\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-line thirds\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"strength\"\n    }, \"How would you describe your strength in the game?\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"strength\",\n      name: \"strength\",\n      value: strength,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"fair\"\n    }, \"Do you feel the pay was fair?\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"fair\",\n      name: \"fair\",\n      value: fair,\n      onChange: this.handleChange\n    }))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"feedback\"\n    }, \"Feedback, including problems you encountered.\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"textarea\", {\n      dir: \"auto\",\n      id: \"feedback\",\n      name: \"feedback\",\n      value: feedback,\n      onChange: this.handleChange\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\"))));\n  }\n\n}\n\nExitSurvey.stepName = \"ExitSurvey\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Sorry.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/exit/Sorry.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Sorry\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 2);\n\nclass Sorry extends Component {\n  render() {\n    const {\n      player,\n      game\n    } = this.props;\n    const basePay = game.treatment.basePay;\n    let msg;\n\n    switch (player.exitStatus) {\n      case \"gameFull\":\n        msg = \"All games you are eligible for have filled up too fast...you will be paid the base pay of \".concat(basePay);\n        break;\n\n      case \"gameLobbyTimedOut\":\n        msg = \"There were NOT enough players for the game to start...\";\n        break;\n\n      case \"playerEndedLobbyWait\":\n        msg = \"You decided to stop waiting, we are sorry it was too long a wait.\";\n        break;\n\n      default:\n        msg = \"Unfortunately the Game was cancelled...\";\n        break;\n    }\n\n    if (player.exitReason === \"failedQuestion\") {\n      msg = \"Unfortunately you did not meet the conditions required to play the game.\";\n    } // Only for dev\n\n\n    if (!game && Meteor.isDevelopment) {\n      msg = \"Unfortunately the Game was cancelled because of failed to init Game (only visible in development, check the logs).\";\n    }\n\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Sorry!\"), /*#__PURE__*/React.createElement(\"p\", null, \"Sorry, you were not able to play today! \", msg), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Please contact the researcher to see if there are more games available.\"))));\n  }\n\n}\n\nSorry.stepName = \"Sorry\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Thanks.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/exit/Thanks.jsx                                                                                       //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Thanks\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass Thanks extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"finished\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Finished!\"), /*#__PURE__*/React.createElement(\"p\", null, \"Thank you for participating!\")));\n  }\n\n}\n\nThanks.stepName = \"Thanks\";\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"game\":{\"About.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/About.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => About\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\n\nclass About extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", null, \"Here be the presentation of the experiement(ers).\");\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Contribution.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Contribution.css                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Contribution.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Contribution.jsx                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Contribution\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet ContributionResponse;\nmodule.link(\"./ContributionResponse\", {\n  default(v) {\n    ContributionResponse = v;\n  }\n\n}, 1);\nlet ContributionPrompt;\nmodule.link(\"./ContributionPrompt.jsx\", {\n  default(v) {\n    ContributionPrompt = v;\n  }\n\n}, 2);\nmodule.link(\"./Contribution.css\");\n\nclass Contribution extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contribution-body\"\n    }, /*#__PURE__*/React.createElement(ContributionPrompt, this.props), /*#__PURE__*/React.createElement(ContributionResponse, this.props));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ContributionPrompt.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/ContributionPrompt.jsx                                                                           //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ContributionPrompt\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./Contribution.css\");\n\nclass ContributionPrompt extends React.Component {\n  render() {\n    const {\n      game,\n      round,\n      stage,\n      player\n    } = this.props;\n    const multiplier = game.treatment.multiplier;\n    const endowment = game.treatment.endowment;\n    const returnsA = endowment * multiplier / 2;\n    const returnsB = endowment * multiplier / 2 + endowment;\n    const returnsBoth = endowment * multiplier;\n    const returnsNeither = 0;\n    /*const returnsBoth = (\n      ((parseFloat(playerValue) + parseFloat(playerBValue)) * multiplier) /\n      2\n    ).toFixed(0);\n    const returnsA = ((playerValue * multiplier) / 2).toFixed(0);\n    const returnsA_other = parseFloat(returnsA) + parseFloat(playerBValue);\n     const returnsB = ((playerBValue * multiplier) / 2).toFixed(0);\n    const returnsB_other = parseFloat(returnsB) + parseFloat(playerValue);\n    */\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contribution-container\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"contribution-heading\"\n    }, \"Contributions\"), /*#__PURE__*/React.createElement(\"h4\", null, \" Multiplier: \", multiplier, \"x\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contribution-image\"\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"instructions-text\"\n    }, \"You can contribute any of your \", endowment, \" money units towards the public fund, which will be multiplied then divided equally among the group.\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ContributionResponse.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/ContributionResponse.jsx                                                                         //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ContributionResponse\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nmodule.link(\"./Contribution.css\");\n\nclass ContributionResponse extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleChange = event => {\n      const {\n        player,\n        game\n      } = this.props;\n      let value = parseFloat(event.target.value);\n\n      if (value > game.treatment.endowment) {\n        value = game.treatment.endowment;\n      }\n\n      if (!value) {\n        value = 0;\n      }\n\n      player.round.set(\"contribution\", value);\n    };\n\n    this.handleSubmit = event => {\n      const {\n        player\n      } = this.props;\n      event.preventDefault();\n      this.props.player.stage.submit();\n    };\n  }\n\n  renderSubmitted() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"waiting-response-container\"\n    }, \"Waiting on other players' contributions...\");\n  }\n\n  renderInput() {\n    const {\n      game,\n      player\n    } = this.props;\n    const endowment = game.treatment.endowment;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      onChange: this.handleChange,\n      min: \"0\",\n      value: player.round.get(\"contribution\"),\n      max: endowment,\n      placeholder: \"0 if left blank\",\n      className: \"text-area\"\n    })), /*#__PURE__*/React.createElement(\"br\", null));\n  }\n\n  render() {\n    const {\n      player,\n      game\n    } = this.props;\n    const contribution = player.round.get(\"contribution\");\n    const endowment = game.treatment.endowment;\n    const keep = endowment - parseFloat(contribution); // If the player already submitted, don't show the slider or submit button\n\n    if (player.stage.submitted) {\n      return this.renderSubmitted();\n    }\n\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, this.renderInput(), 0 <= parseFloat(contribution) && contribution <= endowment ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contribute-you-keep\"\n    }, \" You keep: \", keep, \" \") : null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"button\"\n    }, \"Contribute\"));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ContributionsDisplay.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/ContributionsDisplay.jsx                                                                         //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ContributionsDisplay\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./PunishmentResponse.css\");\n\nclass ContributionsDisplay extends React.Component {\n  render() {\n    const {\n      game,\n      round,\n      player\n    } = this.props;\n    const totalContributions = round.get(\"totalContributions\");\n    const contribution = player.round.get(\"contribution\");\n    const multiplier = game.treatment.multiplier;\n    const playerCount = game.treatment.playerCount;\n    const totalReturns = round.get(\"totalReturns\");\n    const payoff = round.get(\"payoff\");\n    return /*#__PURE__*/React.createElement(\"body\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-container-punishment\"\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"contributions-heading\"\n    }, \"Total Contributions\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"b\", null, \"Contributions\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"You contributed\"), /*#__PURE__*/React.createElement(\"div\", null, contribution)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Others contributed\"), /*#__PURE__*/React.createElement(\"div\", null, \"+\", totalContributions - contribution)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"divider\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Total contributions\"), /*#__PURE__*/React.createElement(\"div\", null, totalContributions))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"b\", null, \"Total Returns\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Total contributions\"), /*#__PURE__*/React.createElement(\"div\", null, totalContributions)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Multiplier\"), /*#__PURE__*/React.createElement(\"div\", null, \"x\", multiplier)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"divider\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Total returns\"), /*#__PURE__*/React.createElement(\"div\", null, totalReturns))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"b\", null, \"Your Returns\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Total returns\"), /*#__PURE__*/React.createElement(\"div\", null, totalReturns)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"All players\"), /*#__PURE__*/React.createElement(\"div\", null, \"/\", game.treatment.playerCount)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"divider\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contributions-total-record\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"Your returns\"), /*#__PURE__*/React.createElement(\"div\", null, payoff)))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"GroupSidebar.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/GroupSidebar.css                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"GroupSidebar.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/GroupSidebar.jsx                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => GroupView\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Timer;\nmodule.link(\"./Timer.jsx\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 1);\nmodule.link(\"./RightSidebar.css\");\nmodule.link(\"./GroupSidebar.css\");\n\nclass GroupView extends React.Component {\n  renderRoundNumber() {\n    const {\n      round\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Round Number\"), /*#__PURE__*/React.createElement(\"span\", null, round.index + 1, \"/\", numRounds));\n  }\n\n  renderPlayer(game, otherPlayer) {\n    const cumulativePayoff = otherPlayer.get(\"cumulativePayoff\");\n    const transparency = game.treatment.groupTransparency;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alter\",\n      key: otherPlayer._id\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: otherPlayer.get(\"avatar\"),\n      className: \"profile-avatar-other\"\n    }), transparency ? /*#__PURE__*/React.createElement(\"div\", null, \" Total MU: \", cumulativePayoff) : null);\n  }\n\n  renderRoundStage() {\n    const {\n      stage\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Round Stage\"), /*#__PURE__*/React.createElement(\"span\", null, stage.name));\n  }\n\n  renderRoundMU() {\n    const {\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Your Round MU\"), /*#__PURE__*/React.createElement(\"span\", null, game.treatment.endowment));\n  }\n\n  render() {\n    const {\n      stage,\n      game\n    } = this.props;\n    const showNRounds = game.treatment.showNRounds;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-sidebar\"\n    }, this.renderRoundMU(), showNRounds && this.renderRoundNumber(), this.renderRoundStage(), /*#__PURE__*/React.createElement(Timer, {\n      stage: stage\n    }));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ListView.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/ListView.jsx                                                                                     //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => ListView\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./OutcomeStage.css\");\n\nclass ListView extends React.Component {\n  renderPlayer(game, playerId, punishments) {\n    console.log(game.players);\n    const player = game.players.find(player => player._id === playerId);\n    console.log(player);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: player.get(\"avatar\"),\n      className: \"player-avatar-listview\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"x\", punishments[playerId]));\n  }\n\n  render() {\n    const {\n      game,\n      punishments,\n      className\n    } = this.props;\n    console.log(punishments);\n    let nonzeroPunishments = {};\n\n    for (const key of Object.keys(punishments)) {\n      if (punishments[key] != \"0\") {\n        nonzeroPunishments[key] = punishments[key];\n      } else {}\n    }\n\n    if (Object.keys(nonzeroPunishments).length == 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"none\"\n      }, \" / \");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className\n    }, Object.keys(nonzeroPunishments).map(p => this.renderPlayer(game, p, nonzeroPunishments)));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"OutcomeStage.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/OutcomeStage.css                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"OutcomeStage.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/OutcomeStage.jsx                                                                                 //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => OutcomeStage\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Table;\nmodule.link(\"./Table.jsx\", {\n  default(v) {\n    Table = v;\n  }\n\n}, 1);\nmodule.link(\"./OutcomeStage.css\");\n\nclass OutcomeStage extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.onNext = event => {\n      event.preventDefault();\n      this.props.player.stage.submit();\n    };\n  }\n\n  renderSubmitted() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"waiting-response-container\"\n    }, \"Waiting on other players... Please wait until all players are ready\");\n  }\n\n  render() {\n    const {\n      game,\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"body\", {\n      className: \"outcome-body\"\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"outcome-heading\"\n    }, \"Round Outcome\"), /*#__PURE__*/React.createElement(Table, {\n      players: game.players,\n      game: game,\n      me: player,\n      punishment: true\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"next-round center\"\n    }, player.stage.submitted ? this.renderSubmitted() : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.onNext,\n      className: \"button\"\n    }, \"Next Round\")));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PlayerSidebar.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PlayerSidebar.css                                                                                //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PlayerSidebar.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PlayerSidebar.jsx                                                                                //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => PlayerSidebar\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./Sidebar.css\");\nmodule.link(\"./PlayerSidebar.css\");\n\nclass PlayerSidebar extends React.Component {\n  renderProfile() {\n    const {\n      player\n    } = this.props;\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"circle\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: player.get(\"avatar\"),\n      className: \"profile-avatar\"\n    }));\n  }\n\n  renderScore() {\n    const {\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Your Total MU\"), /*#__PURE__*/React.createElement(\"span\", null, player.get(\"cumulativePayoff\")));\n  }\n\n  renderSocialInteraction(otherPlayer) {\n    const cumulativePayoff = otherPlayer.get(\"cumulativePayoff\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"player\",\n      key: otherPlayer._id\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: otherPlayer.get(\"avatar\"),\n      className: \"profile-avatar\"\n    }));\n  }\n\n  render() {\n    const {\n      game,\n      player,\n      stage,\n      round\n    } = this.props;\n\n    const otherPlayers = _.reject(game.players, p => p._id === player._id);\n\n    const showNRounds = game.treatment.showNRounds;\n\n    if (otherPlayers.length === 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"aside\", {\n      className: \"sidebar\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sidebar-stats\"\n    }, this.renderProfile(), this.renderScore(), /*#__PURE__*/React.createElement(\"h4\", null, \"Other players: \", /*#__PURE__*/React.createElement(\"span\", null, game.treatment.playerCount - 1)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"players-wrapper\"\n    }, otherPlayers.map(p => this.renderSocialInteraction(p)))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PunishmentResponse.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PunishmentResponse.css                                                                           //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PunishmentResponse.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PunishmentResponse.jsx                                                                           //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => PunishmentResponse\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nmodule.link(\"./PunishmentResponse.css\");\n\nclass PunishmentResponse extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = (event, param) => {\n      const {\n        player\n      } = this.props;\n      const punished = player.round.get(\"punished\");\n      punished[param] = event.target.value;\n      player.round.set(\"punished\", punished);\n    };\n\n    this.handleClick = (event, player) => {\n      event.preventDefault();\n      showInput = true;\n    };\n\n    this.handleSubmit = event => {\n      const {\n        player\n      } = this.props;\n      event.preventDefault();\n      const punished = player.round.get(\"punished\");\n      const cumulativePayoff = parseFloat(player.get(\"cumulativePayoff\"));\n      let totalPunishmentCost = 0;\n      const punishedKeys = Object.keys(punished);\n      let negatives = 0;\n\n      for (const key of punishedKeys) {\n        if (parseFloat(punished[key]) < 0) {\n          negatives += 1;\n        }\n\n        totalPunishmentCost += parseFloat(punished[key]);\n      }\n\n      console.log(\"negatives\", negatives);\n\n      if (totalPunishmentCost > cumulativePayoff) {\n        this.setState({\n          formError: \"Error: punishment cost exceeds your total MU\"\n        });\n      } else if (negatives > 0) {\n        this.setState({\n          formError: \"Error: punishment cannot be negative\"\n        });\n      } else {\n        this.setState({\n          formError: \"\"\n        });\n      }\n\n      console.log(\"error\", this.state.formError);\n\n      if (totalPunishmentCost > cumulativePayoff || negatives > 0) {} else {\n        this.props.player.stage.submit();\n      }\n    };\n\n    this.state = {\n      formError: \"\",\n      amountValid: false,\n      punishmentDict: {}\n    };\n  }\n\n  renderSubmitted() {\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"waiting-response-container\"\n    }, \"Waiting on other players' punishments...\"));\n  }\n\n  renderInput(player) {\n    const contribution = player.round.get(\"contribution\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"punishment-player-wrapper\"\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: player.get(\"avatar\"),\n      className: \"player-avatar\"\n    }), /*#__PURE__*/React.createElement(\"div\", null, \" Contributed: \", contribution, \" MU \"), /*#__PURE__*/React.createElement(\"form\", null, /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: player._id,\n      onChange: event => this.handleChange(event, player._id),\n      min: \"0\",\n      placeholder: \"# of punishments\",\n      className: \"input-area\"\n    }))));\n  }\n\n  renderPlayer(player) {\n    const contribution = player.round.get(\"contribution\");\n    let showInput = false;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: event => this.handleClick(event, player)\n    }, \"Player: \", player._id, /*#__PURE__*/React.createElement(\"img\", {\n      src: player.get(\"avatar\"),\n      className: \"player-avatar\"\n    }), /*#__PURE__*/React.createElement(\"div\", null, \"Contribution: \", contribution, \" MU\")), showInput ? this.renderInput(player) : null);\n  }\n\n  render() {\n    const {\n      game,\n      player\n    } = this.props;\n\n    const otherPlayers = _.reject(game.players, p => p._id === player._id);\n\n    const formError = this.state.formError;\n    const cumulativePayoff = player.get(\"cumulativePayoff\");\n    const punishment = game.treatment.punishment; // If the player already submitted, don't show the input or submit button\n\n    if (player.stage.submitted) {\n      if (cumulativePayoff < 0) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"center\"\n        }, /*#__PURE__*/React.createElement(\"div\", null, \"You do not have enough to punish other players\"), this.renderSubmitted());\n      }\n\n      return this.renderSubmitted();\n    }\n\n    if (cumulativePayoff > 0) {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"instructions-text\"\n      }, /*#__PURE__*/React.createElement(\"p\", null, \"It will cost you 1 MU to impose a punishment of \", punishment, \" MU. The costs will be taken directly from your cumulative payoff, so you cannot exceed \", cumulativePayoff, \" punishments.\")), /*#__PURE__*/React.createElement(\"div\", null, \"(leaving a punishment input blank is equivalent to zero punishment)\", /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"punishment-players-wrapper\"\n      }, otherPlayers.map(player => this.renderInput(player))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"center\"\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"button\"\n      }, \"Next\")), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"center\"\n      }, formError))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", null, this.props.player.stage.submit());\n    }\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"PunishmentStage.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/PunishmentStage.jsx                                                                              //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => PunishmentStage\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PunishmentResponse;\nmodule.link(\"./PunishmentResponse.jsx\", {\n  default(v) {\n    PunishmentResponse = v;\n  }\n\n}, 1);\nlet ContributionsDisplay;\nmodule.link(\"./ContributionsDisplay.jsx\", {\n  default(v) {\n    ContributionsDisplay = v;\n  }\n\n}, 2);\nmodule.link(\"./PunishmentResponse.css\");\n\nclass PunishmentStage extends React.Component {\n  render() {\n    const {\n      game,\n      round,\n      stage,\n      player\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"body\", {\n      className: \"punishment-body\"\n    }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ContributionsDisplay, {\n      game: game,\n      round: round,\n      stage: stage,\n      player: player\n    }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(PunishmentResponse, {\n      game: game,\n      round: round,\n      stage: stage,\n      player: player\n    }))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Round.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Round.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Round\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet PlayerSidebar;\nmodule.link(\"./PlayerSidebar.jsx\", {\n  default(v) {\n    PlayerSidebar = v;\n  }\n\n}, 1);\nlet GroupSidebar;\nmodule.link(\"./GroupSidebar.jsx\", {\n  default(v) {\n    GroupSidebar = v;\n  }\n\n}, 2);\nlet Contribution;\nmodule.link(\"./Contribution.jsx\", {\n  default(v) {\n    Contribution = v;\n  }\n\n}, 3);\nlet PunishmentStage;\nmodule.link(\"./PunishmentStage.jsx\", {\n  default(v) {\n    PunishmentStage = v;\n  }\n\n}, 4);\nlet OutcomeStage;\nmodule.link(\"./OutcomeStage.jsx\", {\n  default(v) {\n    OutcomeStage = v;\n  }\n\n}, 5);\nmodule.link(\"./PlayerSidebar.css\");\nmodule.link(\"./GroupSidebar.css\");\n\nclass Round extends React.Component {\n  render() {\n    return \"dsa\";\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Table.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Table.css                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Table.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Table.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Table\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./Table.css\");\nlet ListView;\nmodule.link(\"./ListView.jsx\", {\n  default(v) {\n    ListView = v;\n  }\n\n}, 1);\n\nclass Table extends React.Component {\n  render() {\n    const {\n      players,\n      game,\n      me,\n      punishment\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"TableWrapper\"\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"Wrapper\"\n    }, /*#__PURE__*/React.createElement(\"tbody\", null, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"Tr\"\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"Th\"\n    }, \"Player\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"Th\"\n    }, \"Gained\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"Th\"\n    }, \"Contribution\"), punishment && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"Th\"\n    }, \"You punished\"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"Th\"\n    }, \"Punished you\"))), players.map((player, i) => {\n      const punished = player.round.get(\"punished\");\n      const punishedBy = player.round.get(\"punishedBy\");\n      const contribution = player.round.get(\"contribution\");\n      const roundPayoff = player.round.get(\"roundPayoff\");\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        className: i === 0 ? 'Tr back-gray' : 'Tr',\n        key: i\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"Td\"\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: player.get(\"avatar\"),\n        className: \"avatar\"\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"Td\"\n      }, roundPayoff), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"Td\"\n      }, contribution), punishment && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"Td\"\n      }, /*#__PURE__*/React.createElement(ListView, {\n        punishments: punished,\n        game: game,\n        className: \"punishment-social-view\",\n        me: me\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"Td\"\n      }, /*#__PURE__*/React.createElement(ListView, {\n        punishments: punishedBy,\n        game: game,\n        className: \"punishment-social-view\",\n        me: me\n      }))));\n    }))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Timer.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/game/Timer.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet StageTimeWrapper;\nmodule.link(\"meteor/empirica:core\", {\n  StageTimeWrapper(v) {\n    StageTimeWrapper = v;\n  }\n\n}, 0);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 1);\nlet Timer;\nmodule.link(\"./Timer.jsx\", {\n  default(v) {\n    Timer = v;\n  }\n\n}, 2);\n\nclass timer extends React.Component {\n  render() {\n    const {\n      remainingSeconds\n    } = this.props;\n    var a = Math.floor(remainingSeconds / 60);\n    var b = remainingSeconds % 60;\n    const classes = [\"timer\"];\n\n    if (remainingSeconds <= 5) {\n      classes.push(\"lessThan5\");\n    } else if (remainingSeconds <= 10) {\n      classes.push(\"lessThan10\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.join(\" \")\n    }, /*#__PURE__*/React.createElement(\"h4\", null, \"Timer\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"seconds\"\n    }, a, \":\", b < 10 ? 0 : null, b));\n  }\n\n}\n\nmodule.exportDefault(Timer = StageTimeWrapper(timer));\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"intro\":{\"Consent.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/Consent.jsx                                                                                     //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Consent\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered, ConsentButton;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  },\n\n  ConsentButton(v) {\n    ConsentButton = v;\n  }\n\n}, 1);\n\nclass Consent extends React.Component {\n  render() {\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"consent\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Consent Form \"), /*#__PURE__*/React.createElement(\"p\", null, \"This experiment is part of a MIT scientific project. Your decision to participate in this experiment is entirely voluntary. There are no known or anticipated risks to participating in this experiment. There is no way for us to identify you. The only information we will have, in addition to your responses, is the timestamps of your interactions with our site. The results of our research may be presented at scientific meetings or published in scientific journals. Clicking on the \\\"AGREE\\\" button indicates that you are at least 18 years of age, and agree to participate voluntary.\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(ConsentButton, {\n      text: \"I AGREE\"\n    })));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"InstructionStepOne.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/InstructionStepOne.jsx                                                                          //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => InstructionStepOne\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./Instructions.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass InstructionStepOne extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"instructions\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" How the game works: \"), /*#__PURE__*/React.createElement(\"p\", null, \"In this multi-player game, you will be in a group. Each person is given a set amount of money units at the start of each round. You will also be shown a money multiplier. There will be a public fund that you can choose to contribute to\\u2014you will not be able to see others' contributions before making your own. After everyone has contributed, the amount in the public fund will be multiplied by the money multiplier.\"), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"public-fund-img\",\n      src: \"/experiment/images/multiplication.png\"\n    }), /*#__PURE__*/React.createElement(\"p\", null, \"This amount is then evenly divided among the group as the \\\"payoff\\\". You get to keep the payoff and whatever you have left of your private funds.\"), /*#__PURE__*/React.createElement(\"h1\", null, \" Cumulative payoff: \"), /*#__PURE__*/React.createElement(\"p\", null, \"You will have a cumulative payoff throughout the game, with each round's earnings being added to this amount. Try to maximize your cumulative payoff! When the game concludes, this will be converted to a cash bonus towards your final earnings.\"), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"InstructionStepTwo.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/InstructionStepTwo.jsx                                                                          //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => InstructionStepTwo\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nmodule.link(\"./Instructions.css\");\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass InstructionStepTwo extends React.Component {\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    const punishmentRate = game.treatment.punishment;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"instructions\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Viewing the group's contributions: \"), /*#__PURE__*/React.createElement(\"p\", null, \"After each round of contributions, you will be able to see how much each member contributed, as shown below:\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/experiment/images/InstructionsPunishment.png\",\n      className: \"instructions-img-punishment\"\n    }), /*#__PURE__*/React.createElement(\"h1\", null, \" Punishment: \"), /*#__PURE__*/React.createElement(\"p\", null, \"You have the ability to punish your group members if you feel that they did not contribute enough, but if you choose to punish someone, you will incur a cost, too! Each unit you spend punishing someone will deduct \", punishmentRate, \" units from another player and 1 unit from your cumulative payoff. You can punish players as long as you have a positive cumulative payoff.\"), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onNext,\n      disabled: !hasNext\n    }, \"Next\"))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Instructions.css\":function module(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/Instructions.css                                                                                //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\n// These styles have already been applied to the document.\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"NewPlayer.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/NewPlayer.jsx                                                                                   //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => NewPlayer\n});\nlet React, Component;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Component(v) {\n    Component = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass NewPlayer extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      id: \"\"\n    };\n\n    this.handleUpdate = event => {\n      const {\n        value,\n        name\n      } = event.currentTarget;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        handleNewPlayer\n      } = this.props;\n      const {\n        id\n      } = this.state;\n      handleNewPlayer(id);\n    };\n  }\n\n  render() {\n    const {\n      id\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Identification\"), /*#__PURE__*/React.createElement(\"p\", null, \"Please enter your id:\"), /*#__PURE__*/React.createElement(\"input\", {\n      dir: \"auto\",\n      type: \"text\",\n      name: \"id\",\n      id: \"id\",\n      value: id,\n      onChange: this.handleUpdate,\n      required: true,\n      autoComplete: \"off\"\n    }), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Quiz.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/Quiz.jsx                                                                                        //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => Quiz\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass Quiz extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      players: \"\",\n      punishment: \"\",\n      payoff: \"\",\n      kept: \"\"\n    };\n\n    this.handleChange = event => {\n      const el = event.currentTarget;\n      this.setState({\n        [el.name]: el.value.trim().toLowerCase()\n      });\n    };\n\n    this.handleSubmit = (players, punishmentRate) => event => {\n      event.preventDefault();\n\n      if (this.state.players !== String(players - 1) || this.state.punishment !== String(2 * punishmentRate) || this.state.payoff != \"10\" || this.state.kept != \"6\") {\n        alert(\"Incorrect! Read the instructions, and please try again.\");\n      } else {\n        this.props.onNext();\n      }\n    };\n  }\n\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev,\n      game\n    } = this.props;\n    const {\n      players,\n      punishment,\n      payoff,\n      kept\n    } = this.state;\n    const playerCount = game.treatment.playerCount;\n    const punishmentRate = game.treatment.punishment;\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quiz\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \" Quiz \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit(playerCount, punishmentRate)\n    }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sum\"\n    }, \" \", \"In this game there will be a total of \", playerCount, \" players. How many players are there other than yourself?\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      dir: \"auto\",\n      id: \"sum\",\n      name: \"players\",\n      placeholder: \"e.g. 1\",\n      value: players,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      required: true\n    })), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"horse\"\n    }, \" \", \"Imagine that in a given round, you have a starting fund of 10 MU. If you contribute 4 MU, how much of your starting funds do you keep?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      dir: \"auto\",\n      id: \"kept\",\n      name: \"kept\",\n      placeholder: \"e.g. 10\",\n      value: kept,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      required: true\n    })), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"horse\"\n    }, \"Imagine that in a given round, the money multiplier is 2 and players contributed the following amounts:\", /*#__PURE__*/React.createElement(\"div\", null, \" Player 1: 10 MU \"), \" \", /*#__PURE__*/React.createElement(\"div\", null, \" Player 2: 4 MU \"), /*#__PURE__*/React.createElement(\"div\", null, \" Player 3: 1 MU \"), \"What is the round payoff? (round payoff = sum of contributions x multiplier / the number of players)\", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      dir: \"auto\",\n      id: \"payoff\",\n      name: \"payoff\",\n      placeholder: \"e.g. 20\",\n      value: payoff,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      required: true\n    })), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"horse\"\n    }, \"Each money unit you spend to punish someone deducts\", \" \", punishmentRate, \" MU from them. If you spend 2 MU to punish someone, how many MU will be deducted from them?\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      dir: \"auto\",\n      id: \"punishment\",\n      name: \"punishment\",\n      placeholder: \"e.g. 2\",\n      value: punishment,\n      onChange: this.handleChange,\n      autoComplete: \"off\",\n      required: true\n    })), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Back to instructions\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"QuizCopy.jsx\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/intro/QuizCopy.jsx                                                                                    //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nmodule.export({\n  default: () => QuizCopy\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet Centered;\nmodule.link(\"meteor/empirica:core\", {\n  Centered(v) {\n    Centered = v;\n  }\n\n}, 1);\n\nclass QuizCopy extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      both: \"\",\n      falseB: \"\",\n      falseA: \"\",\n      neither: \"\"\n    };\n\n    this.onChangeValue = event => {\n      console.log(event.target.value);\n      console.log(event.target.name);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.both !== \"220 points\" || this.state.falseB !== \"105 points\" || this.state.falseA !== \"205 points\" || this.state.neither !== \"100 points\") {\n        alert(\"Incorrect! Read the instructions, and please try again.\");\n      } else {\n        this.props.onNext();\n      }\n    };\n  }\n\n  render() {\n    const {\n      hasPrev,\n      hasNext,\n      onNext,\n      onPrev\n    } = this.props;\n    const {\n      both,\n      falseA,\n      falseB,\n      neither\n    } = this.state;\n    const answerOptions = [{\n      answerText: \"220 points\",\n      correct: \"both\"\n    }, {\n      answerText: \"105 points\",\n      correct: \"falseB\"\n    }, {\n      answerText: \"205 points\",\n      correct: \"falseA\"\n    }, {\n      answerText: \"100 points\",\n      correct: \"neither\"\n    }];\n    return /*#__PURE__*/React.createElement(Centered, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"quiz\"\n    }, /*#__PURE__*/React.createElement(\"h1\", null, \"Quiz \"), /*#__PURE__*/React.createElement(\"h3\", null, \"Before we start, we would like to introduce the structure of the game and check whether you have truly understood the structure of the game.\"), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"h4\", null, \"Imagine the following game:\"), /*#__PURE__*/React.createElement(\"table\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", null), /*#__PURE__*/React.createElement(\"th\", null, \"Player B contributes\"), /*#__PURE__*/React.createElement(\"th\", null, \"Player B doesn't contribute\")), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", null, \"You contribute\"), /*#__PURE__*/React.createElement(\"th\", null, \"220 / 220\"), /*#__PURE__*/React.createElement(\"th\", null, \"105 / 205\")), /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", null, \" You don't contribute \"), /*#__PURE__*/React.createElement(\"th\", null, \"205 / 105\"), /*#__PURE__*/React.createElement(\"th\", null, \"100 / 100\")))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit\n    }, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sum\"\n    }, \"Imagine that you contributed to the common pool. If Player B contributes, you get:\"), answerOptions.map(answerOption => /*#__PURE__*/React.createElement(\"div\", {\n      onChange: this.onChangeValue\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"both\",\n      value: answerOption.answerText\n    }), answerOption.answerText))), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"horse\"\n    }, \"Imagine that you contributed to the common pool. If Player B doesn't contribute, you get:\"), answerOptions.map(answerOption => /*#__PURE__*/React.createElement(\"div\", {\n      onChange: this.onChangeValue\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"falseB\",\n      value: answerOption.answerText\n    }), answerOption.answerText))), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sum\"\n    }, \"Imagine that you didn't contribute to the common pool. If Player B contributes, you get:\"), answerOptions.map(answerOption => /*#__PURE__*/React.createElement(\"div\", {\n      onChange: this.onChangeValue\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"falseA\",\n      value: answerOption.answerText\n    }), answerOption.answerText))), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"sum\"\n    }, \"Imagine that you didn't contribute to the common pool. If Player B doesn't contribute, you get:\"), answerOptions.map(answerOption => /*#__PURE__*/React.createElement(\"div\", {\n      onChange: this.onChangeValue\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"neither\",\n      value: answerOption.answerText\n    }), answerOption.answerText))), /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onPrev,\n      disabled: !hasPrev\n    }, \"Back to instructions\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\"\n    }, \"Submit\")))));\n  }\n\n}\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"main.js\":function module(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                              //\n// client/main.js                                                                                               //\n//                                                                                                              //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                //\nlet Empirica;\nmodule.link(\"meteor/empirica:core\", {\n  default(v) {\n    Empirica = v;\n  }\n\n}, 0);\nlet render;\nmodule.link(\"react-dom\", {\n  render(v) {\n    render = v;\n  }\n\n}, 1);\nlet ExitSurvey;\nmodule.link(\"./exit/ExitSurvey\", {\n  default(v) {\n    ExitSurvey = v;\n  }\n\n}, 2);\nlet Thanks;\nmodule.link(\"./exit/Thanks\", {\n  default(v) {\n    Thanks = v;\n  }\n\n}, 3);\nlet Sorry;\nmodule.link(\"./exit/Sorry\", {\n  default(v) {\n    Sorry = v;\n  }\n\n}, 4);\nlet About;\nmodule.link(\"./game/About\", {\n  default(v) {\n    About = v;\n  }\n\n}, 5);\nlet Round;\nmodule.link(\"./game/Round\", {\n  default(v) {\n    Round = v;\n  }\n\n}, 6);\nlet Consent;\nmodule.link(\"./intro/Consent\", {\n  default(v) {\n    Consent = v;\n  }\n\n}, 7);\nlet InstructionStepOne;\nmodule.link(\"./intro/InstructionStepOne\", {\n  default(v) {\n    InstructionStepOne = v;\n  }\n\n}, 8);\nlet InstructionStepTwo;\nmodule.link(\"./intro/InstructionStepTwo\", {\n  default(v) {\n    InstructionStepTwo = v;\n  }\n\n}, 9);\nlet QuizCopy;\nmodule.link(\"./intro/QuizCopy\", {\n  default(v) {\n    QuizCopy = v;\n  }\n\n}, 10);\nlet Quiz;\nmodule.link(\"./intro/Quiz\", {\n  default(v) {\n    Quiz = v;\n  }\n\n}, 11);\nlet NewPlayer;\nmodule.link(\"./intro/NewPlayer\", {\n  default(v) {\n    NewPlayer = v;\n  }\n\n}, 12);\n// Set the About Component you want to use for the About dialog (optional).\nEmpirica.about(About); // Set the Consent Component you want to present players (optional).\n\nEmpirica.consent(Consent); // Set the component for getting the player id (optional)\n\nEmpirica.newPlayer(NewPlayer); // Introduction pages to show before they play the game (optional).\n// At this point they have been assigned a treatment. You can return\n// different instruction steps depending on the assigned treatment.\n\nEmpirica.introSteps((game, treatment) => {\n  const steps = [InstructionStepOne];\n\n  if (treatment.punishment > 0) {\n    steps.push(InstructionStepTwo);\n  }\n\n  steps.push(Quiz);\n  return steps;\n}); // The Round component containing the game UI logic.\n// This is where you will be doing the most development.\n// See client/game/Round.jsx to learn more.\n\nEmpirica.round(Round); // End of Game pages. These may vary depending on player or game information.\n// For example we can show the score of the user, or we can show them a\n// different message if they actually could not participate the game (timed\n// out), etc.\n// The last step will be the last page shown to user and will be shown to the\n// user if they come back to the website.\n// If you don't return anything, or do not define this function, a default\n// exit screen will be shown.\n\nEmpirica.exitSteps((game, player) => {\n  if (!game || player.exitStatus && player.exitStatus !== \"finished\" && player.exitReason !== \"playerQuit\") {\n    return [Sorry];\n  }\n\n  return [ExitSurvey, Thanks];\n}); // Start the app render tree.\n// NB: This must be called after any other Empirica calls (Empirica.round(),\n// Empirica.introSteps(), ...).\n// It is required and usually does not need changing.\n\nMeteor.startup(() => {\n  render(Empirica.routes(), document.getElementById(\"app\"));\n});\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".less\",\n    \".css\",\n    \".mjs\",\n    \".jsx\"\n  ]\n});\n\nvar exports = require(\"/client/main.js\");","hash":"4a15913df9fbb769fdfb9914e0f6f284d08ffd17","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/exit/ExitSurvey.jsx","client/exit/Sorry.jsx","client/exit/Thanks.jsx","client/game/About.jsx","client/game/Contribution.jsx","client/game/ContributionPrompt.jsx","client/game/ContributionResponse.jsx","client/game/ContributionsDisplay.jsx","client/game/GroupSidebar.jsx","client/game/ListView.jsx","client/game/OutcomeStage.jsx","client/game/PlayerSidebar.jsx","client/game/PunishmentResponse.jsx","client/game/PunishmentStage.jsx","client/game/Round.jsx","client/game/Table.jsx","client/game/Timer.jsx","client/intro/Consent.jsx","client/intro/InstructionStepOne.jsx","client/intro/InstructionStepTwo.jsx","client/intro/NewPlayer.jsx","client/intro/Quiz.jsx","client/intro/QuizCopy.jsx","client/main.js"],"names":["module","export","default","ExitSurvey","React","link","v","Centered","Radio","selected","name","value","label","onChange","Component","state","age","gender","strength","fair","feedback","handleChange","event","el","currentTarget","setState","handleSubmit","preventDefault","props","onSubmit","render","game","player","education","earnings","get","basePay","treatment","_id","stepName","Sorry","Meteor","msg","exitStatus","exitReason","isDevelopment","Thanks","About","Contribution","ContributionResponse","ContributionPrompt","round","stage","multiplier","endowment","returnsA","returnsB","returnsBoth","returnsNeither","parseFloat","target","set","submit","renderSubmitted","renderInput","contribution","keep","submitted","ContributionsDisplay","totalContributions","playerCount","totalReturns","payoff","GroupView","Timer","renderRoundNumber","index","numRounds","renderPlayer","otherPlayer","cumulativePayoff","transparency","groupTransparency","renderRoundStage","renderRoundMU","showNRounds","ListView","playerId","punishments","console","log","players","find","textAlign","className","nonzeroPunishments","key","Object","keys","length","map","p","OutcomeStage","Table","onNext","PlayerSidebar","renderProfile","renderScore","renderSocialInteraction","otherPlayers","_","reject","PunishmentResponse","constructor","param","punished","handleClick","showInput","totalPunishmentCost","punishedKeys","negatives","formError","amountValid","punishmentDict","punishment","PunishmentStage","Round","GroupSidebar","me","i","punishedBy","roundPayoff","StageTimeWrapper","timer","remainingSeconds","a","Math","floor","b","classes","push","join","exportDefault","Consent","ConsentButton","InstructionStepOne","hasPrev","hasNext","onPrev","InstructionStepTwo","punishmentRate","NewPlayer","id","handleUpdate","handleNewPlayer","Quiz","kept","trim","toLowerCase","String","alert","QuizCopy","both","falseB","falseA","neither","onChangeValue","answerOptions","answerText","correct","answerOption","Empirica","about","consent","newPlayer","introSteps","steps","exitSteps","startup","routes","document","getElementById"],"mappings":"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","file":"/app.js","sourcesContent":["import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nconst Radio = ({ selected, name, value, label, onChange }) => (\n  <label>\n    <input\n      type=\"radio\"\n      name={name}\n      value={value}\n      checked={selected === value}\n      onChange={onChange}\n    />\n    {label}\n  </label>\n);\n\nexport default class ExitSurvey extends React.Component {\n  static stepName = \"ExitSurvey\";\n  state = { age: \"\", gender: \"\", strength: \"\", fair: \"\", feedback: \"\" };\n\n  handleChange = (event) => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.props.onSubmit(this.state);\n  };\n\n  render() {\n    const { game, player } = this.props;\n    const { age, gender, strength, fair, feedback, education } = this.state;\n    const earnings = player.get(\"earnings\");\n    const basePay = game.treatment.basePay;\n    return (\n      <Centered>\n        <div className=\"exit-survey\">\n          <h1> Exit Survey </h1>\n          <p>\n            Please submit the following code to receive your bonus:{\" \"}\n            <strong>{player._id}</strong>.\n          </p>\n          {/*<p>Earnings: {earnings}</p>*/}\n          <p>\n            Your final <strong>bonus</strong> is $7 in addition of the\n            <strong> $3 reward</strong> for completing the HIT.\n          </p>\n          {/*\n          <p>\n            Your final <strong>bonus</strong> is $7 in addition of the{\" \"}\n            <strong> ${basePay} reward</strong> for completing the HIT.\n    </p>*/}\n          {/*}\n          <p>\n            Your final <strong>bonus</strong> is in addition of the{\" \"}\n            <strong>1 base reward</strong> for completing the HIT.\n    </p>*/}\n          <br />\n          <p>\n            Please answer the following short survey. You do not have to provide\n            any information you feel uncomfortable with.\n          </p>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-line\">\n              <div>\n                <label htmlFor=\"age\">Age</label>\n                <div>\n                  <input\n                    id=\"age\"\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"150\"\n                    step=\"1\"\n                    dir=\"auto\"\n                    name=\"age\"\n                    value={age}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"gender\">Gender</label>\n                <div>\n                  <input\n                    id=\"gender\"\n                    type=\"text\"\n                    dir=\"auto\"\n                    name=\"gender\"\n                    value={gender}\n                    onChange={this.handleChange}\n                    autoComplete=\"off\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <label>Highest Education Qualification</label>\n              <div>\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"high-school\"\n                  label=\"High School\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"bachelor\"\n                  label=\"US Bachelor's Degree\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"master\"\n                  label=\"Master's or higher\"\n                  onChange={this.handleChange}\n                />\n                <Radio\n                  selected={education}\n                  name=\"education\"\n                  value=\"other\"\n                  label=\"Other\"\n                  onChange={this.handleChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"form-line thirds\">\n              <div>\n                <label htmlFor=\"strength\">\n                  How would you describe your strength in the game?\n                </label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"strength\"\n                    name=\"strength\"\n                    value={strength}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"fair\">Do you feel the pay was fair?</label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"fair\"\n                    name=\"fair\"\n                    value={fair}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div>\n                <label htmlFor=\"feedback\">\n                  Feedback, including problems you encountered.\n                </label>\n                <div>\n                  <textarea\n                    dir=\"auto\"\n                    id=\"feedback\"\n                    name=\"feedback\"\n                    value={feedback}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <button type=\"submit\">Submit</button>\n          </form>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Meteor } from \"meteor/meteor\";\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Sorry extends Component {\n  static stepName = \"Sorry\";\n\n  render() {\n    const { player, game } = this.props;\n    const basePay = game.treatment.basePay;\n    let msg;\n    switch (player.exitStatus) {\n      case \"gameFull\":\n        msg = `All games you are eligible for have filled up too fast...you will be paid the base pay of ${basePay}`;\n        break;\n      case \"gameLobbyTimedOut\":\n        msg = \"There were NOT enough players for the game to start...\";\n        break;\n      case \"playerEndedLobbyWait\":\n        msg =\n          \"You decided to stop waiting, we are sorry it was too long a wait.\";\n        break;\n      default:\n        msg = \"Unfortunately the Game was cancelled...\";\n        break;\n    }\n    if (player.exitReason === \"failedQuestion\") {\n      msg =\n        \"Unfortunately you did not meet the conditions required to play the game.\";\n    }\n    // Only for dev\n    if (!game && Meteor.isDevelopment) {\n      msg =\n        \"Unfortunately the Game was cancelled because of failed to init Game (only visible in development, check the logs).\";\n    }\n    return (\n      <Centered>\n        <div>\n          <h4>Sorry!</h4>\n          <p>Sorry, you were not able to play today! {msg}</p>\n          <p>\n            <strong>\n              Please contact the researcher to see if there are more games\n              available.\n            </strong>\n          </p>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Thanks extends React.Component {\n  static stepName = \"Thanks\";\n  render() {\n    return (\n      <div className=\"finished\">\n        <div>\n          <h4>Finished!</h4>\n          <p>Thank you for participating!</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class About extends React.Component {\n  render() {\n    return <div>Here be the presentation of the experiement(ers).</div>;\n  }\n}\n","import React from \"react\";\n\nimport ContributionResponse from \"./ContributionResponse\";\nimport ContributionPrompt from \"./ContributionPrompt.jsx\";\nimport \"./Contribution.css\";\n\nexport default class Contribution extends React.Component {\n  render() {\n    return (\n      <div className=\"contribution-body\">\n        <ContributionPrompt {...this.props} />\n        <ContributionResponse {...this.props} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Contribution.css\";\nexport default class ContributionPrompt extends React.Component {\n  render() {\n    const { game, round, stage, player } = this.props;\n\n    const multiplier = game.treatment.multiplier;\n    const endowment = game.treatment.endowment;\n    const returnsA = (endowment * multiplier) / 2;\n    const returnsB = (endowment * multiplier) / 2 + endowment;\n    const returnsBoth = endowment * multiplier;\n    const returnsNeither = 0;\n    /*const returnsBoth = (\n      ((parseFloat(playerValue) + parseFloat(playerBValue)) * multiplier) /\n      2\n    ).toFixed(0);\n    const returnsA = ((playerValue * multiplier) / 2).toFixed(0);\n    const returnsA_other = parseFloat(returnsA) + parseFloat(playerBValue);\n\n    const returnsB = ((playerBValue * multiplier) / 2).toFixed(0);\n    const returnsB_other = parseFloat(returnsB) + parseFloat(playerValue);\n    */\n\n    return (\n      <div>\n        <div className=\"contribution-container\">\n          <h2 className=\"contribution-heading\">\n            Contributions\n          </h2>\n          <h4> Multiplier: {multiplier}x</h4>\n          <div className=\"contribution-image\"/>\n        </div>\n        <div className=\"instructions-text\">\n        You can contribute any of your {endowment} money units towards the\n            public fund, which will be multiplied then divided equally among the\n            group.\n        </div>\n        {/*\n        <div>Rounded table shown below</div>\n\n        <div>\n          <table>\n            <tr>\n              <th></th>\n              <th>B contributes</th>\n              <th>B does not contribute</th>\n            </tr>\n            <tr>\n              <th>You contribute</th>\n              <th>\n                {returnsBoth} / {returnsBoth}\n              </th>\n              <th>\n                {returnsA} / {returnsB}\n              </th>\n            </tr>\n            <tr>\n              <th> You do not contribute </th>\n              <th>\n                {returnsB} / {returnsA}\n              </th>\n              <th>\n                {returnsNeither} / {returnsNeither}\n              </th>\n            </tr>\n          </table>\n            </div>\n\n    */}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./Contribution.css\";\n\nexport default class ContributionResponse extends React.Component {\n  handleChange = (event) => {\n    const { player, game } = this.props;\n    let value = parseFloat(event.target.value);\n    if(value > game.treatment.endowment){\n      value = game.treatment.endowment;\n    }\n    if(!value){\n      value = 0;\n    }\n    player.round.set(\"contribution\", value);\n  };\n\n  handleSubmit = (event) => {\n    const { player } = this.props;\n    event.preventDefault();\n    this.props.player.stage.submit();\n  };\n\n  renderSubmitted() {\n    return (\n      <div className=\"waiting-response-container\">\n        Waiting on other players' contributions...\n      </div>\n    );\n  }\n\n  renderInput() {\n    const { game, player } = this.props;\n    const endowment = game.treatment.endowment;\n    return (\n      <div>\n        <label>\n          <input\n            type=\"number\"\n            onChange={this.handleChange}\n            min=\"0\"\n            value={player.round.get(\"contribution\")}\n            max={endowment}\n            placeholder=\"0 if left blank\"\n            className=\"text-area\"\n          />\n        </label>\n        <br></br>\n        {/*\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Contribute\"\n            checked={value == \"Contribute\"}\n            onChange={this.handleChange}\n          />\n          Contribute\n        </label>\n    */}\n      </div>\n    );\n  }\n\n  render() {\n    const { player, game } = this.props;\n    const contribution = player.round.get(\"contribution\");\n    const endowment = game.treatment.endowment;\n    const keep = endowment - parseFloat(contribution);\n    // If the player already submitted, don't show the slider or submit button\n    if (player.stage.submitted) {\n      return this.renderSubmitted();\n    }\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        {this.renderInput()}\n        {0 <= parseFloat(contribution) && contribution <= endowment ? (\n          <div  className=\"contribute-you-keep\"> You keep: {keep} </div>\n        ) : null}\n        <button type=\"submit\" className=\"button\">\n          Contribute\n        </button>\n      </form>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./PunishmentResponse.css\";\n\nexport default class ContributionsDisplay extends React.Component {\n  render() {\n    const { game, round, player } = this.props;\n    const totalContributions = round.get(\"totalContributions\");\n    const contribution = player.round.get(\"contribution\");\n    const multiplier = game.treatment.multiplier;\n    const playerCount = game.treatment.playerCount;\n    const totalReturns = round.get(\"totalReturns\");\n    const payoff = round.get(\"payoff\");\n\n    return (\n      <body>\n        <div className=\"contributions-container-punishment\">\n          <h2 className=\"contributions-heading\">Total Contributions</h2>\n          <div className=\"contributions-total-wrapper\">\n            <div className=\"contributions-total-record\">\n              <b>Contributions</b>\n            </div>\n            <div className=\"contributions-total-record\">\n              <div>You contributed</div>\n              <div>{contribution}</div>\n            </div>\n            <div className=\"contributions-total-record\">\n              <div>Others contributed</div>\n              <div>+{totalContributions - contribution}</div>\n            </div>\n            <div className=\"divider\"/>\n            <div className=\"contributions-total-record\">\n              <div>Total contributions</div>\n              <div>{totalContributions}</div>\n            </div>\n          </div>\n\n          <div className=\"contributions-total-wrapper\">\n            <div className=\"contributions-total-record\">\n              <b>Total Returns</b>\n            </div>\n            <div className=\"contributions-total-record\">\n              <div>Total contributions</div>\n              <div>{totalContributions}</div>\n            </div>\n            <div className=\"contributions-total-record\">\n              <div>Multiplier</div>\n              <div>x{multiplier}</div>\n            </div>\n            <div className=\"divider\"/>\n            <div className=\"contributions-total-record\">\n              <div>Total returns</div>\n              <div>{totalReturns}</div>\n            </div>\n          </div>\n\n          <div className=\"contributions-total-wrapper\">\n            <div className=\"contributions-total-record\">\n              <b>Your Returns</b>\n            </div>\n            <div className=\"contributions-total-record\">\n              <div>Total returns</div>\n              <div>{totalReturns}</div>\n            </div>\n            <div className=\"contributions-total-record\">\n              <div>All players</div>\n              <div>/{game.treatment.playerCount}</div>\n            </div>\n            <div className=\"divider\"/>\n            <div className=\"contributions-total-record\">\n              <div>Your returns</div>\n              <div>{payoff}</div>\n            </div>\n          </div>\n        </div>\n      </body>\n    );\n  }\n}\n","import React from \"react\";\nimport Timer from \"./Timer.jsx\";\nimport \"./RightSidebar.css\";\nimport \"./GroupSidebar.css\";\n\n\nexport default class GroupView extends React.Component {\n  \n\n  renderRoundNumber() {\n    const { round } = this.props;\n    return (\n      <div>\n        <h4>Round Number</h4>\n        <span>\n          {round.index + 1}/{numRounds}\n        </span>\n      </div>\n    );\n  }\n\n\n  renderPlayer(game, otherPlayer) {\n    const cumulativePayoff = otherPlayer.get(\"cumulativePayoff\");\n    const transparency = game.treatment.groupTransparency;\n    return (\n      <div className=\"alter\" key={otherPlayer._id}>\n        <img src={otherPlayer.get(\"avatar\")} className=\"profile-avatar-other\" />\n        {transparency ? <div> Total MU: {cumulativePayoff}</div> : null}\n      </div>\n    );\n  }\n      \n\n  renderRoundStage() {\n    const { stage } = this.props;\n    return (\n      <div>\n        <h4>Round Stage</h4>\n        <span>{stage.name}</span>\n      </div>\n    );\n  }\n\n  renderRoundMU() {\n    const { game } = this.props;\n    return (\n      <div>\n        <h4>Your Round MU</h4>\n        <span>{game.treatment.endowment}</span>\n      </div>\n    );\n  }\n\n  \n  render() {\n    const { stage, game } = this.props;\n\n    const showNRounds = game.treatment.showNRounds;\n    return (\n      <div className=\"right-sidebar\">\n        {this.renderRoundMU()}\n        {showNRounds && this.renderRoundNumber()}\n        {this.renderRoundStage()}\n        <Timer stage={stage} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./OutcomeStage.css\";\n\nexport default class ListView extends React.Component {\n  renderPlayer(game, playerId, punishments) {\n    console.log(game.players);\n    const player = game.players.find((player) => player._id === playerId);\n    console.log(player);\n    return (\n      <div style={{textAlign:\"center\"}}>\n        {<img src={player.get(\"avatar\")} className=\"player-avatar-listview\" />}\n        {/*<img src={`/avatars/jdenticon/${player}`} className=\"player-avatar\" />*/}\n\n        <p>x{punishments[playerId]}</p>\n      </div>\n    );\n  }\n\n  render() {\n    const { game, punishments, className } = this.props;\n    console.log(punishments);\n    let nonzeroPunishments = {};\n    for (const key of Object.keys(punishments)) {\n      if (punishments[key] != \"0\") {\n        nonzeroPunishments[key] = punishments[key];\n      } else {\n      }\n    }\n\n    if (Object.keys(nonzeroPunishments).length == 0) {\n      return <div className=\"none\"> / </div>\n    }\n\n    return (\n      <div className={className}>\n        {Object.keys(nonzeroPunishments).map((p) =>\n          this.renderPlayer(game, p, nonzeroPunishments)\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Table from \"./Table.jsx\";\nimport \"./OutcomeStage.css\";\n\nexport default class OutcomeStage extends React.Component {\n  \n  onNext = (event) => {\n    event.preventDefault();\n    this.props.player.stage.submit();\n  };\n\n  renderSubmitted() {\n    return (\n      <div className=\"waiting-response-container\">\n          Waiting on other players...\n          Please wait until all players are ready\n      </div>\n    );\n  }\n\n  render() {\n    const { game, player } = this.props;\n\n    return (\n      <body className=\"outcome-body\">\n          <h4 className=\"outcome-heading\">Round Outcome</h4>\n          <Table \n            players={game.players}\n            game={game}\n            me={player}\n            punishment={true}\n          />\n        <div className=\"next-round center\">\n          {player.stage.submitted ? (\n            this.renderSubmitted()\n          ) : (\n            <button type=\"button\" onClick={this.onNext} className=\"button\">\n              Next Round\n            </button>\n          )}\n        </div>\n      </body>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Sidebar.css\";\nimport \"./PlayerSidebar.css\";\n\n\nexport default class PlayerSidebar extends React.Component {\n  renderProfile() {\n    const { player } = this.props;\n    console.log(this.props)\n    return (\n      <div className=\"circle\">\n        <img\n          src={player.get(\"avatar\")}\n          className=\"profile-avatar\"\n        />\n      </div>\n    );\n  }\n\n  renderScore() {\n    const { player } = this.props;\n    return (\n      <div>\n        <h4>Your Total MU</h4>\n        <span>{player.get(\"cumulativePayoff\")}</span>\n      </div>\n    );\n  }\n  \n \n\n  renderSocialInteraction(otherPlayer) {\n    const cumulativePayoff = otherPlayer.get(\"cumulativePayoff\");\n    return (\n      <div className=\"player\" key={otherPlayer._id}>\n        <img src={otherPlayer.get(\"avatar\")} className=\"profile-avatar\" />\n        {/*} <div>Player key: {otherPlayer._id}</div> <br></br>*/}\n        </div>\n    );\n  }\n\n\n  render() {\n    const { game, player, stage, round } = this.props;\n\n    const otherPlayers = _.reject(game.players, (p) => p._id === player._id);\n    const showNRounds = game.treatment.showNRounds;\n\n    if (otherPlayers.length === 0) {\n      return null;\n    }\n\n    return (\n      <aside className=\"sidebar\">\n        <div className=\"sidebar-stats\">\n          {this.renderProfile()}\n          {this.renderScore()}\n          <h4>Other players: <span>{game.treatment.playerCount - 1}</span></h4>\n          <div className=\"players-wrapper\">\n            {otherPlayers.map((p) => this.renderSocialInteraction(p))}\n          </div>\n        </div>\n      </aside>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./PunishmentResponse.css\";\n\nexport default class PunishmentResponse extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formError: \"\",\n      amountValid: false,\n      punishmentDict: {},\n    };\n  }\n\n  handleChange = (event, param) => {\n    const { player } = this.props;\n    const punished = player.round.get(\"punished\");\n    punished[param] = event.target.value;\n    player.round.set(\"punished\", punished);\n  };\n\n  handleClick = (event, player) => {\n    event.preventDefault();\n    showInput = true;\n  };\n\n  handleSubmit = (event) => {\n    const { player } = this.props;\n    event.preventDefault();\n    const punished = player.round.get(\"punished\");\n\n    const cumulativePayoff = parseFloat(player.get(\"cumulativePayoff\"));\n    let totalPunishmentCost = 0;\n    const punishedKeys = Object.keys(punished);\n    let negatives = 0;\n\n    for (const key of punishedKeys) {\n      if (parseFloat(punished[key]) < 0) {\n        negatives += 1;\n      }\n      totalPunishmentCost += parseFloat(punished[key]);\n    }\n    console.log(\"negatives\", negatives);\n\n    if (totalPunishmentCost > cumulativePayoff) {\n      this.setState({\n        formError: \"Error: punishment cost exceeds your total MU\",\n      });\n    } else if (negatives > 0) {\n      this.setState({ formError: \"Error: punishment cannot be negative\" });\n    } else {\n      this.setState({ formError: \"\" });\n    }\n    console.log(\"error\", this.state.formError);\n    if (totalPunishmentCost > cumulativePayoff || negatives > 0) {\n    } else {\n      this.props.player.stage.submit();\n    }\n  };\n\n  renderSubmitted() {\n    return (\n      <div>\n        <div className=\"waiting-response-container\">\n          Waiting on other players' punishments...\n        </div>\n      </div>\n    );\n  }\n\n  renderInput(player) {\n    const contribution = player.round.get(\"contribution\");\n\n    return (\n      <div className=\"punishment-player-wrapper\">\n        <img\n          src={player.get(\"avatar\")}\n          className=\"player-avatar\"\n        />\n        <div> Contributed: {contribution} MU </div>\n        <form>\n          <label>\n            <input\n              type=\"number\"\n              id={player._id}\n              onChange={(event) => this.handleChange(event, player._id)}\n              min=\"0\"\n              placeholder=\"# of punishments\"\n              className=\"input-area\"\n            />\n          </label>\n        </form>\n      </div>\n    );\n  }\n\n  renderPlayer(player) {\n    const contribution = player.round.get(\"contribution\");\n    let showInput = false;\n    return (\n      <div>\n        <button onClick={(event) => this.handleClick(event, player)}>\n          Player: {player._id}\n          {<img src={player.get(\"avatar\")} className=\"player-avatar\" />}\n          <div>Contribution: {contribution} MU</div>\n        </button>\n        {showInput ? this.renderInput(player) : null}\n      </div>\n    );\n  }\n\n  render() {\n    const { game, player } = this.props;\n    const otherPlayers = _.reject(game.players, (p) => p._id === player._id);\n    const formError = this.state.formError;\n    const cumulativePayoff = player.get(\"cumulativePayoff\");\n    const punishment = game.treatment.punishment;\n\n    // If the player already submitted, don't show the input or submit button\n    if (player.stage.submitted) {\n      if (cumulativePayoff < 0) {\n        return (\n          <div className=\"center\">\n            <div>You do not have enough to punish other players</div>\n            {this.renderSubmitted()}\n          </div>\n        );\n      }\n      return this.renderSubmitted();\n    }\n\n    if (cumulativePayoff > 0) {\n      return (\n        <div>\n          <div className=\"instructions-text\">\n              <p>\n                It will cost you 1 MU to impose a punishment of {punishment} MU.\n                The costs will be taken directly from your cumulative payoff, so\n                you cannot exceed {cumulativePayoff} punishments.\n              </p>\n          </div>\n          <div>\n            (leaving a punishment input blank is equivalent to zero punishment)\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"punishment-players-wrapper\">\n                {otherPlayers.map((player) => this.renderInput(player))}\n              </div>\n              <div className=\"center\">\n                <button type=\"submit\" className=\"button\">\n                Next\n                </button>\n              </div>\n\n              <p className=\"center\">{formError}</p>\n            </form>\n          </div>\n        </div>\n      );\n    } else {\n      return <div>{this.props.player.stage.submit()}</div>;\n    }\n  }\n}\n","import React from \"react\";\nimport PunishmentResponse from \"./PunishmentResponse.jsx\";\nimport ContributionsDisplay from \"./ContributionsDisplay.jsx\";\nimport \"./PunishmentResponse.css\";\n\nexport default class PunishmentStage extends React.Component {\n  render() {\n    const { game, round, stage, player } = this.props;\n\n    return (\n      <body className=\"punishment-body\">\n        <div>\n          <ContributionsDisplay\n            game={game}\n            round={round}\n            stage={stage}\n            player={player}\n          />\n          <div>\n            <PunishmentResponse\n              game={game}\n              round={round}\n              stage={stage}\n              player={player}\n            />\n          </div>\n        </div>\n      </body>\n    );\n  }\n}\n","import React from \"react\";\n\nimport PlayerSidebar from \"./PlayerSidebar.jsx\";\nimport GroupSidebar from \"./GroupSidebar.jsx\";\nimport Contribution from \"./Contribution.jsx\";\nimport PunishmentStage from \"./PunishmentStage.jsx\";\nimport OutcomeStage from \"./OutcomeStage.jsx\";\nimport \"./PlayerSidebar.css\";\nimport \"./GroupSidebar.css\";\n\nexport default class Round extends React.Component {\n  render() {\n    \n    return (\n      \"dsa\"\n    );\n  }\n}\n","import React from 'react';\nimport \"./Table.css\";\nimport ListView from \"./ListView.jsx\";\n\nexport default class Table extends React.Component {\n  render(){\n    const { players, game, me, punishment } = this.props;\n    \n    return(\n      <div className='TableWrapper'>\n        <table className='Wrapper'>\n          <tbody>\n            <tr className='Tr'>\n              <th className='Th'>Player</th>\n              <th className='Th'>Gained</th>\n              <th className='Th'>Contribution</th>\n              {punishment && <>\n              <th className='Th'>You punished</th>\n              <th className='Th'>Punished you</th>\n              </>}\n            </tr>\n            {players.map((player, i) => {\n              const punished = player.round.get(\"punished\");\n              const punishedBy = player.round.get(\"punishedBy\");\n              const contribution = player.round.get(\"contribution\");\n              const roundPayoff = player.round.get(\"roundPayoff\");\n              return(\n                <tr className={i === 0 ? 'Tr back-gray' : 'Tr'} key={i}>\n                  <td className='Td' >\n                    <img src={player.get(\"avatar\")} className=\"avatar\" />\n                  </td>\n                  <td className='Td' >{roundPayoff}</td>\n                  <td className='Td' >{contribution}</td>\n                  {punishment && \n                  <>\n                    <td className='Td'>\n                      <ListView\n                        punishments={punished}\n                        game={game}\n                        className=\"punishment-social-view\"\n                        me={me}\n                      />\n                    </td>\n                    <td className='Td' >\n                      <ListView\n                        punishments={punishedBy}\n                        game={game}\n                        className=\"punishment-social-view\"\n                        me={me}\n                      />\n                    </td>\n                  </>\n                  }   \n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n}\n","import { StageTimeWrapper } from \"meteor/empirica:core\";\nimport React from \"react\";\nimport Timer from \"./Timer.jsx\";\n\nclass timer extends React.Component {\n  render() {\n    const { remainingSeconds } = this.props;\n    var a = Math.floor(remainingSeconds / 60);\n    var b = remainingSeconds % 60;\n\n    const classes = [\"timer\"];\n    if (remainingSeconds <= 5) {\n      classes.push(\"lessThan5\");\n    } else if (remainingSeconds <= 10) {\n      classes.push(\"lessThan10\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        <h4>Timer</h4>\n        {/*<span className=\"seconds\">{remainingSeconds}</span>*/}\n        <span className=\"seconds\">\n          {a}:{b < 10 ? 0 : null}\n          {b}\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Timer = StageTimeWrapper(timer);\n","import React from \"react\";\n\nimport { Centered, ConsentButton } from \"meteor/empirica:core\";\n\nexport default class Consent extends React.Component {\n  render() {\n    return (\n      <Centered>\n        <div className=\"consent\">\n          <h1> Consent Form </h1>\n          <p>\n            This experiment is part of a MIT scientific project. Your decision\n            to participate in this experiment is entirely voluntary. There are\n            no known or anticipated risks to participating in this experiment.\n            There is no way for us to identify you. The only information we will\n            have, in addition to your responses, is the timestamps of your\n            interactions with our site. The results of our research may be\n            presented at scientific meetings or published in scientific\n            journals. Clicking on the \"AGREE\" button indicates that you are at\n            least 18 years of age, and agree to participate voluntary.\n          </p>\n          <br />\n          <ConsentButton text=\"I AGREE\" />\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Instructions.css\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class InstructionStepOne extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n\n    return (\n      <Centered>\n        <div className=\"instructions\">\n          <h1> How the game works: </h1>\n          <p>\n            In this multi-player game, you will be in a group. Each person is\n            given a set amount of money units at the start of each round. You\n            will also be shown a money multiplier. There will be a public fund\n            that you can choose to contribute toyou will not be able to see\n            others' contributions before making your own. After everyone has\n            contributed, the amount in the public fund will be multiplied by the\n            money multiplier.\n          </p>\n          <img\n            className=\"public-fund-img\"\n            src=\"/experiment/images/multiplication.png\"\n          ></img>\n          <p>\n            This amount is then evenly divided among the group as the \"payoff\".\n            You get to keep the payoff and whatever you have left of your\n            private funds.\n          </p>\n          <h1> Cumulative payoff: </h1>\n          <p>\n            You will have a cumulative payoff throughout the game, with each\n            round's earnings being added to this amount. Try to maximize your\n            cumulative payoff! When the game concludes, this will be converted\n            to a cash bonus towards your final earnings.\n          </p>\n\n          <p>\n            <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n              Previous\n            </button>\n            <button type=\"button\" onClick={onNext} disabled={!hasNext}>\n              Next\n            </button>\n          </p>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Instructions.css\";\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class InstructionStepTwo extends React.Component {\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n    const punishmentRate = game.treatment.punishment;\n    return (\n      <Centered>\n        <div className=\"instructions\">\n          <h1> Viewing the group's contributions: </h1>\n          <p>\n            After each round of contributions, you will be able to see how much\n            each member contributed, as shown below:\n          </p>\n\n          <img\n            src=\"/experiment/images/InstructionsPunishment.png\"\n            className=\"instructions-img-punishment\"\n          ></img>\n          <h1> Punishment: </h1>\n          <p>\n            You have the ability to punish your group members if you feel that\n            they did not contribute enough, but if you choose to punish someone,\n            you will incur a cost, too! Each unit you spend punishing someone\n            will deduct {punishmentRate} units from another player and 1 unit\n            from your cumulative payoff. You can punish players as long as you\n            have a positive cumulative payoff.\n          </p>\n          <p>\n            <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n              Previous\n            </button>\n            <button type=\"button\" onClick={onNext} disabled={!hasNext}>\n              Next\n            </button>\n          </p>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React, { Component } from 'react'\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class NewPlayer extends Component {\n  state = { id: \"\" };\n\n  handleUpdate = event => {\n    const { value, name } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { handleNewPlayer } = this.props;\n    const { id } = this.state;\n    handleNewPlayer(id);\n  };\n\n  render() {\n    const { id } = this.state;\n\n    return (\n      <Centered>\n        <div >\n          <form onSubmit={this.handleSubmit}>\n            <h1>Identification</h1>\n\n            <p>\n              Please enter your id:\n                        </p>\n\n            <input\n              dir=\"auto\"\n              type=\"text\"\n              name=\"id\"\n              id=\"id\"\n              value={id}\n              onChange={this.handleUpdate}\n              required\n              autoComplete=\"off\"\n            />\n\n            <br />\n\n            <p>\n              <button type=\"submit\">Submit</button>\n            </p>\n\n          </form>\n        </div>\n      </Centered>\n    )\n  }\n}","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class Quiz extends React.Component {\n  state = { players: \"\", punishment: \"\", payoff: \"\", kept: \"\" };\n\n  handleChange = (event) => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value.trim().toLowerCase() });\n  };\n\n  handleSubmit = (players, punishmentRate) => (event) => {\n    event.preventDefault();\n\n    if (\n      this.state.players !== String(players - 1) ||\n      this.state.punishment !== String(2 * punishmentRate) ||\n      this.state.payoff != \"10\" ||\n      this.state.kept != \"6\"\n    ) {\n      alert(\"Incorrect! Read the instructions, and please try again.\");\n    } else {\n      this.props.onNext();\n    }\n  };\n\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev, game } = this.props;\n    const { players, punishment, payoff, kept } = this.state;\n    const playerCount = game.treatment.playerCount;\n    const punishmentRate = game.treatment.punishment;\n    return (\n      <Centered>\n        <div className=\"quiz\">\n          <h1> Quiz </h1>\n          <form onSubmit={this.handleSubmit(playerCount, punishmentRate)}>\n            <p>\n              <label htmlFor=\"sum\">\n                {\" \"}\n                In this game there will be a total of {playerCount} players. How\n                many players are there other than yourself?{\" \"}\n              </label>\n              <input\n                type=\"text\"\n                dir=\"auto\"\n                id=\"sum\"\n                name=\"players\"\n                placeholder=\"e.g. 1\"\n                value={players}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n                required\n              />\n            </p>\n            <p>\n              <label htmlFor=\"horse\">\n                {\" \"}\n                Imagine that in a given round, you have a starting fund of 10\n                MU. If you contribute 4 MU, how much of your starting funds do\n                you keep?\n              </label>\n              <input\n                type=\"text\"\n                dir=\"auto\"\n                id=\"kept\"\n                name=\"kept\"\n                placeholder=\"e.g. 10\"\n                value={kept}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n                required\n              />\n            </p>\n            <p>\n              <label htmlFor=\"horse\">\n                Imagine that in a given round, the money multiplier is 2 and\n                players contributed the following amounts:\n                <div> Player 1: 10 MU </div> <div> Player 2: 4 MU </div>\n                <div> Player 3: 1 MU </div>\n                What is the round payoff? (round payoff = sum of contributions x\n                multiplier / the number of players){\" \"}\n              </label>\n              <input\n                type=\"text\"\n                dir=\"auto\"\n                id=\"payoff\"\n                name=\"payoff\"\n                placeholder=\"e.g. 20\"\n                value={payoff}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n                required\n              />\n            </p>\n\n            <p>\n              <label htmlFor=\"horse\">\n                Each money unit you spend to punish someone deducts{\" \"}\n                {punishmentRate} MU from them. If you spend 2 MU to punish\n                someone, how many MU will be deducted from them?\n              </label>\n              <input\n                type=\"text\"\n                dir=\"auto\"\n                id=\"punishment\"\n                name=\"punishment\"\n                placeholder=\"e.g. 2\"\n                value={punishment}\n                onChange={this.handleChange}\n                autoComplete=\"off\"\n                required\n              />\n            </p>\n\n            <p>\n              <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n                Back to instructions\n              </button>\n              <button type=\"submit\">Submit</button>\n            </p>\n          </form>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import React from \"react\";\n\nimport { Centered } from \"meteor/empirica:core\";\n\nexport default class QuizCopy extends React.Component {\n  state = { both: \"\", falseB: \"\", falseA: \"\", neither: \"\" };\n\n  /*handleAnswerOptionClick = (event) => {\n    const el = event.currentTarget;\n    this.setState({ [el.name]: el.value.trim().toLowerCase() });\n  };\n  */\n\n  onChangeValue = (event) => {\n    console.log(event.target.value);\n    console.log(event.target.name);\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (\n      this.state.both !== \"220 points\" ||\n      this.state.falseB !== \"105 points\" ||\n      this.state.falseA !== \"205 points\" ||\n      this.state.neither !== \"100 points\"\n    ) {\n      alert(\"Incorrect! Read the instructions, and please try again.\");\n    } else {\n      this.props.onNext();\n    }\n  };\n\n  render() {\n    const { hasPrev, hasNext, onNext, onPrev } = this.props;\n    const { both, falseA, falseB, neither } = this.state;\n    const answerOptions = [\n      { answerText: \"220 points\", correct: \"both\" },\n      { answerText: \"105 points\", correct: \"falseB\" },\n      { answerText: \"205 points\", correct: \"falseA\" },\n      { answerText: \"100 points\", correct: \"neither\" },\n    ];\n    return (\n      <Centered>\n        <div className=\"quiz\">\n          <h1>Quiz </h1>\n          <h3>\n            Before we start, we would like to introduce the structure of the\n            game and check whether you have truly understood the structure of\n            the game.\n          </h3>\n          <div>\n            <h4>Imagine the following game:</h4>\n            <table>\n              <tr>\n                <th></th>\n                <th>Player B contributes</th>\n                <th>Player B doesn't contribute</th>\n              </tr>\n              <tr>\n                <th>You contribute</th>\n                <th>220 / 220</th>\n                <th>105 / 205</th>\n              </tr>\n              <tr>\n                <th> You don't contribute </th>\n                <th>205 / 105</th>\n                <th>100 / 100</th>\n              </tr>\n            </table>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <p>\n              <label htmlFor=\"sum\">\n                Imagine that you contributed to the common pool. If Player B\n                contributes, you get:\n              </label>\n              {answerOptions.map((answerOption) => (\n                <div onChange={this.onChangeValue}>\n                  <input\n                    type=\"radio\"\n                    name=\"both\"\n                    value={answerOption.answerText}\n                  />\n                  {answerOption.answerText}\n                </div>\n              ))}\n            </p>\n            <p>\n              <label htmlFor=\"horse\">\n                Imagine that you contributed to the common pool. If Player B\n                doesn't contribute, you get:\n              </label>\n              {answerOptions.map((answerOption) => (\n                <div onChange={this.onChangeValue}>\n                  <input\n                    type=\"radio\"\n                    name=\"falseB\"\n                    value={answerOption.answerText}\n                  />\n                  {answerOption.answerText}\n                </div>\n              ))}\n            </p>\n            <p>\n              <label htmlFor=\"sum\">\n                Imagine that you didn't contribute to the common pool. If Player\n                B contributes, you get:\n              </label>\n              {answerOptions.map((answerOption) => (\n                <div onChange={this.onChangeValue}>\n                  <input\n                    type=\"radio\"\n                    name=\"falseA\"\n                    value={answerOption.answerText}\n                  />\n                  {answerOption.answerText}\n                </div>\n              ))}\n            </p>\n            <p>\n              <label htmlFor=\"sum\">\n                Imagine that you didn't contribute to the common pool. If Player\n                B doesn't contribute, you get:\n              </label>\n              {answerOptions.map((answerOption) => (\n                <div onChange={this.onChangeValue}>\n                  <input\n                    type=\"radio\"\n                    name=\"neither\"\n                    value={answerOption.answerText}\n                  />\n                  {answerOption.answerText}\n                </div>\n              ))}\n            </p>\n            <p>\n              <button type=\"button\" onClick={onPrev} disabled={!hasPrev}>\n                Back to instructions\n              </button>\n              <button type=\"submit\">Submit</button>\n            </p>\n          </form>\n        </div>\n      </Centered>\n    );\n  }\n}\n","import Empirica from \"meteor/empirica:core\";\nimport { render } from \"react-dom\";\nimport ExitSurvey from \"./exit/ExitSurvey\";\nimport Thanks from \"./exit/Thanks\";\nimport Sorry from \"./exit/Sorry\";\nimport About from \"./game/About\";\nimport Round from \"./game/Round\";\nimport Consent from \"./intro/Consent\";\nimport InstructionStepOne from \"./intro/InstructionStepOne\";\nimport InstructionStepTwo from \"./intro/InstructionStepTwo\";\nimport QuizCopy from \"./intro/QuizCopy\";\nimport Quiz from \"./intro/Quiz\";\nimport NewPlayer from \"./intro/NewPlayer\";\n\n// Set the About Component you want to use for the About dialog (optional).\nEmpirica.about(About);\n\n// Set the Consent Component you want to present players (optional).\nEmpirica.consent(Consent);\n\n// Set the component for getting the player id (optional)\nEmpirica.newPlayer(NewPlayer);\n\n// Introduction pages to show before they play the game (optional).\n// At this point they have been assigned a treatment. You can return\n// different instruction steps depending on the assigned treatment.\n\nEmpirica.introSteps((game, treatment) => {\n  const steps = [InstructionStepOne];\n\n  if (treatment.punishment > 0) {\n    steps.push(InstructionStepTwo);\n  }\n  steps.push(Quiz);\n\n  return steps;\n});\n\n// The Round component containing the game UI logic.\n// This is where you will be doing the most development.\n// See client/game/Round.jsx to learn more.\nEmpirica.round(Round);\n\n// End of Game pages. These may vary depending on player or game information.\n// For example we can show the score of the user, or we can show them a\n// different message if they actually could not participate the game (timed\n// out), etc.\n// The last step will be the last page shown to user and will be shown to the\n// user if they come back to the website.\n// If you don't return anything, or do not define this function, a default\n// exit screen will be shown.\nEmpirica.exitSteps((game, player) => {\n  if (\n    !game ||\n    (player.exitStatus &&\n      player.exitStatus !== \"finished\" &&\n      player.exitReason !== \"playerQuit\")\n  ) {\n    return [Sorry];\n  }\n  return [ExitSurvey, Thanks];\n});\n\n// Start the app render tree.\n// NB: This must be called after any other Empirica calls (Empirica.round(),\n// Empirica.introSteps(), ...).\n// It is required and usually does not need changing.\nMeteor.startup(() => {\n  render(Empirica.routes(), document.getElementById(\"app\"));\n});\n"]}}]