{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/tilenbabnik/Desktop/pgg/packages/empirica:core/client.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/empirica:core/client.js","filename":"/Users/tilenbabnik/Desktop/pgg/packages/empirica:core/client.js","passPerPreset":false,"envName":"development","cwd":"/Users/tilenbabnik/Desktop/pgg","root":"/Users/tilenbabnik/Desktop/pgg","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.9.2","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/tilenbabnik/Desktop/pgg/packages/empirica:core/client.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/empirica:core/client.js"}},"code":"module.export({\n  StageTimeWrapper: () => StageTimeWrapper,\n  Centered: () => Centered,\n  AlertToaster: () => AlertToaster,\n  ConsentButton: () => ConsentButton\n});\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 0);\nlet BrowserRouter, Route, Switch;\nmodule.link(\"react-router-dom\", {\n  BrowserRouter(v) {\n    BrowserRouter = v;\n  },\n\n  Route(v) {\n    Route = v;\n  },\n\n  Switch(v) {\n    Switch = v;\n  }\n\n}, 1);\nlet isReactComponents;\nmodule.link(\"./lib/utils\", {\n  isReactComponents(v) {\n    isReactComponents = v;\n  }\n\n}, 2);\nmodule.link(\"./startup/client/index.js\");\nlet About;\nmodule.link(\"./ui/components/About.jsx\", {\n  default(v) {\n    About = v;\n  }\n\n}, 3);\nlet Admin;\nmodule.link(\"./ui/components/Admin.jsx\", {\n  default(v) {\n    Admin = v;\n  }\n\n}, 4);\nlet Centered;\nmodule.link(\"./ui/components/Centered.jsx\", {\n  default(v) {\n    Centered = v;\n  }\n\n}, 5);\nlet Consent, ConsentButton;\nmodule.link(\"./ui/components/Consent.jsx\", {\n  default(v) {\n    Consent = v;\n  },\n\n  ConsentButton(v) {\n    ConsentButton = v;\n  }\n\n}, 6);\nlet Login;\nmodule.link(\"./ui/components/Login.jsx\", {\n  default(v) {\n    Login = v;\n  }\n\n}, 7);\nlet NewPlayer;\nmodule.link(\"./ui/components/NewPlayer.jsx\", {\n  default(v) {\n    NewPlayer = v;\n  }\n\n}, 8);\nlet NoBatch;\nmodule.link(\"./ui/components/NoBatch\", {\n  default(v) {\n    NoBatch = v;\n  }\n\n}, 9);\nlet StageTimeWrapper;\nmodule.link(\"./ui/components/StageTimeWrapper.jsx\", {\n  default(v) {\n    StageTimeWrapper = v;\n  }\n\n}, 10);\nlet AlertToaster;\nmodule.link(\"./ui/components/Toasters.jsx\", {\n  AlertToaster(v) {\n    AlertToaster = v;\n  }\n\n}, 11);\nlet AuthorizedContainer;\nmodule.link(\"./ui/containers/AuthorizedContainer.jsx\", {\n  default(v) {\n    AuthorizedContainer = v;\n  }\n\n}, 12);\nlet IdentifiedContainer;\nmodule.link(\"./ui/containers/IdentifiedContainer.jsx\", {\n  default(v) {\n    IdentifiedContainer = v;\n  }\n\n}, 13);\nlet PublicContainer;\nmodule.link(\"./ui/containers/PublicContainer.jsx\", {\n  default(v) {\n    PublicContainer = v;\n  }\n\n}, 14);\nconst config = {\n  exitSteps: () => [],\n  introSteps: () => []\n};\nconst Empirica = {\n  about(AboutComp) {\n    config.About = AboutComp || About;\n  },\n\n  noBatch(NoBatchComp) {\n    config.NoBatch = NoBatchComp || NoBatch;\n  },\n\n  consent(ConsentComp) {\n    config.Consent = ConsentComp || Consent;\n  },\n\n  newPlayer(NewPlayerComp) {\n    config.NewPlayer = NewPlayerComp || NewPlayer;\n  },\n\n  round(RoundComp) {\n    config.Round = RoundComp;\n  },\n\n  header(HeaderComp) {\n    config.Header = HeaderComp;\n  },\n\n  // gameLobby, treatment, player\n  lobby(LobbyComp) {\n    config.Lobby = LobbyComp;\n  },\n\n  breadcrumb(BreadcrumbComp) {\n    config.Breadcrumb = BreadcrumbComp;\n  },\n\n  waiting(WaitingComp) {\n    config.Waiting = WaitingComp;\n  },\n\n  introSteps(func) {\n    if (!_.isFunction(func)) {\n      throw new Error(\"Empirica.introSteps() requires a function\");\n    }\n\n    config.introSteps = function () {\n      const results = func.apply(null, arguments);\n\n      if (!results || isReactComponents(results)) {\n        return results || [];\n      } else {\n        console.error(\"Empirica.introSteps() is not returning an array of components as expected.\");\n        return [];\n      }\n    };\n  },\n\n  exitSteps(func) {\n    if (!_.isFunction(func)) {\n      throw new Error(\"Empirica.exitSteps() requires a function\");\n    }\n\n    config.exitSteps = function () {\n      const results = func.apply(null, arguments);\n\n      if (!results || isReactComponents(results)) {\n        return results || [];\n      } else {\n        console.error(\"Empirica.exitSteps() is not returning an array of components as expected.\");\n        return [];\n      }\n    };\n  },\n\n  routes() {\n    return /*#__PURE__*/React.createElement(BrowserRouter, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\"\n    }, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: this.appComp()\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/admin\",\n      component: this.adminComp()\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      component: this.loginComp()\n    }))));\n  },\n\n  appComp() {\n    return IdentifiedContainer(PublicContainer, config);\n  },\n\n  adminComp() {\n    let {\n      loginPath = \"/login\"\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return AuthorizedContainer(Admin, {\n      loginPath\n    });\n  },\n\n  loginComp() {\n    let {\n      adminPath = \"/admin\"\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return AuthorizedContainer(Login, {\n      adminPath\n    });\n  }\n\n};\nmodule.exportDefault(Empirica);","map":{"version":3,"sources":["packages/empirica:core/client.js"],"names":["module","export","StageTimeWrapper","Centered","AlertToaster","ConsentButton","React","link","default","v","BrowserRouter","Route","Switch","isReactComponents","About","Admin","Consent","Login","NewPlayer","NoBatch","AuthorizedContainer","IdentifiedContainer","PublicContainer","config","exitSteps","introSteps","Empirica","about","AboutComp","noBatch","NoBatchComp","consent","ConsentComp","newPlayer","NewPlayerComp","round","RoundComp","Round","header","HeaderComp","Header","lobby","LobbyComp","Lobby","breadcrumb","BreadcrumbComp","Breadcrumb","waiting","WaitingComp","Waiting","func","_","isFunction","Error","results","apply","arguments","console","error","routes","appComp","adminComp","loginComp","loginPath","adminPath","exportDefault"],"mappings":"AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,EAAAA,gBAAgB,EAAC,MAAIA,gBAAtB;AAAuCC,EAAAA,QAAQ,EAAC,MAAIA,QAApD;AAA6DC,EAAAA,YAAY,EAAC,MAAIA,YAA9E;AAA2FC,EAAAA,aAAa,EAAC,MAAIA;AAA7G,CAAd;AAA2I,IAAIC,KAAJ;AAAUN,MAAM,CAACO,IAAP,CAAY,OAAZ,EAAoB;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACH,IAAAA,KAAK,GAACG,CAAN;AAAQ;;AAApB,CAApB,EAA0C,CAA1C;AAA6C,IAAIC,aAAJ,EAAkBC,KAAlB,EAAwBC,MAAxB;AAA+BZ,MAAM,CAACO,IAAP,CAAY,kBAAZ,EAA+B;AAACG,EAAAA,aAAa,CAACD,CAAD,EAAG;AAACC,IAAAA,aAAa,GAACD,CAAd;AAAgB,GAAlC;;AAAmCE,EAAAA,KAAK,CAACF,CAAD,EAAG;AAACE,IAAAA,KAAK,GAACF,CAAN;AAAQ,GAApD;;AAAqDG,EAAAA,MAAM,CAACH,CAAD,EAAG;AAACG,IAAAA,MAAM,GAACH,CAAP;AAAS;;AAAxE,CAA/B,EAAyG,CAAzG;AAA4G,IAAII,iBAAJ;AAAsBb,MAAM,CAACO,IAAP,CAAY,aAAZ,EAA0B;AAACM,EAAAA,iBAAiB,CAACJ,CAAD,EAAG;AAACI,IAAAA,iBAAiB,GAACJ,CAAlB;AAAoB;;AAA1C,CAA1B,EAAsE,CAAtE;AAAyET,MAAM,CAACO,IAAP,CAAY,2BAAZ;AAAyC,IAAIO,KAAJ;AAAUd,MAAM,CAACO,IAAP,CAAY,2BAAZ,EAAwC;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACK,IAAAA,KAAK,GAACL,CAAN;AAAQ;;AAApB,CAAxC,EAA8D,CAA9D;AAAiE,IAAIM,KAAJ;AAAUf,MAAM,CAACO,IAAP,CAAY,2BAAZ,EAAwC;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACM,IAAAA,KAAK,GAACN,CAAN;AAAQ;;AAApB,CAAxC,EAA8D,CAA9D;AAAiE,IAAIN,QAAJ;AAAaH,MAAM,CAACO,IAAP,CAAY,8BAAZ,EAA2C;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACN,IAAAA,QAAQ,GAACM,CAAT;AAAW;;AAAvB,CAA3C,EAAoE,CAApE;AAAuE,IAAIO,OAAJ,EAAYX,aAAZ;AAA0BL,MAAM,CAACO,IAAP,CAAY,6BAAZ,EAA0C;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACO,IAAAA,OAAO,GAACP,CAAR;AAAU,GAAtB;;AAAuBJ,EAAAA,aAAa,CAACI,CAAD,EAAG;AAACJ,IAAAA,aAAa,GAACI,CAAd;AAAgB;;AAAxD,CAA1C,EAAoG,CAApG;AAAuG,IAAIQ,KAAJ;AAAUjB,MAAM,CAACO,IAAP,CAAY,2BAAZ,EAAwC;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACQ,IAAAA,KAAK,GAACR,CAAN;AAAQ;;AAApB,CAAxC,EAA8D,CAA9D;AAAiE,IAAIS,SAAJ;AAAclB,MAAM,CAACO,IAAP,CAAY,+BAAZ,EAA4C;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACS,IAAAA,SAAS,GAACT,CAAV;AAAY;;AAAxB,CAA5C,EAAsE,CAAtE;AAAyE,IAAIU,OAAJ;AAAYnB,MAAM,CAACO,IAAP,CAAY,yBAAZ,EAAsC;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACU,IAAAA,OAAO,GAACV,CAAR;AAAU;;AAAtB,CAAtC,EAA8D,CAA9D;AAAiE,IAAIP,gBAAJ;AAAqBF,MAAM,CAACO,IAAP,CAAY,sCAAZ,EAAmD;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACP,IAAAA,gBAAgB,GAACO,CAAjB;AAAmB;;AAA/B,CAAnD,EAAoF,EAApF;AAAwF,IAAIL,YAAJ;AAAiBJ,MAAM,CAACO,IAAP,CAAY,8BAAZ,EAA2C;AAACH,EAAAA,YAAY,CAACK,CAAD,EAAG;AAACL,IAAAA,YAAY,GAACK,CAAb;AAAe;;AAAhC,CAA3C,EAA6E,EAA7E;AAAiF,IAAIW,mBAAJ;AAAwBpB,MAAM,CAACO,IAAP,CAAY,yCAAZ,EAAsD;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACW,IAAAA,mBAAmB,GAACX,CAApB;AAAsB;;AAAlC,CAAtD,EAA0F,EAA1F;AAA8F,IAAIY,mBAAJ;AAAwBrB,MAAM,CAACO,IAAP,CAAY,yCAAZ,EAAsD;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACY,IAAAA,mBAAmB,GAACZ,CAApB;AAAsB;;AAAlC,CAAtD,EAA0F,EAA1F;AAA8F,IAAIa,eAAJ;AAAoBtB,MAAM,CAACO,IAAP,CAAY,qCAAZ,EAAkD;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACa,IAAAA,eAAe,GAACb,CAAhB;AAAkB;;AAA9B,CAAlD,EAAkF,EAAlF;AAiB9/C,MAAMc,MAAM,GAAG;AACbC,EAAAA,SAAS,EAAE,MAAM,EADJ;AAEbC,EAAAA,UAAU,EAAE,MAAM;AAFL,CAAf;AAKA,MAAMC,QAAQ,GAAG;AACfC,EAAAA,KAAK,CAACC,SAAD,EAAY;AACfL,IAAAA,MAAM,CAACT,KAAP,GAAec,SAAS,IAAId,KAA5B;AACD,GAHc;;AAKfe,EAAAA,OAAO,CAACC,WAAD,EAAc;AACnBP,IAAAA,MAAM,CAACJ,OAAP,GAAiBW,WAAW,IAAIX,OAAhC;AACD,GAPc;;AASfY,EAAAA,OAAO,CAACC,WAAD,EAAc;AACnBT,IAAAA,MAAM,CAACP,OAAP,GAAiBgB,WAAW,IAAIhB,OAAhC;AACD,GAXc;;AAafiB,EAAAA,SAAS,CAACC,aAAD,EAAgB;AACvBX,IAAAA,MAAM,CAACL,SAAP,GAAmBgB,aAAa,IAAIhB,SAApC;AACD,GAfc;;AAiBfiB,EAAAA,KAAK,CAACC,SAAD,EAAY;AACfb,IAAAA,MAAM,CAACc,KAAP,GAAeD,SAAf;AACD,GAnBc;;AAqBfE,EAAAA,MAAM,CAACC,UAAD,EAAa;AACjBhB,IAAAA,MAAM,CAACiB,MAAP,GAAgBD,UAAhB;AACD,GAvBc;;AAyBf;AACAE,EAAAA,KAAK,CAACC,SAAD,EAAY;AACfnB,IAAAA,MAAM,CAACoB,KAAP,GAAeD,SAAf;AACD,GA5Bc;;AA8BfE,EAAAA,UAAU,CAACC,cAAD,EAAiB;AACzBtB,IAAAA,MAAM,CAACuB,UAAP,GAAoBD,cAApB;AACD,GAhCc;;AAkCfE,EAAAA,OAAO,CAACC,WAAD,EAAc;AACnBzB,IAAAA,MAAM,CAAC0B,OAAP,GAAiBD,WAAjB;AACD,GApCc;;AAsCfvB,EAAAA,UAAU,CAACyB,IAAD,EAAO;AACf,QAAI,CAACC,CAAC,CAACC,UAAF,CAAaF,IAAb,CAAL,EAAyB;AACvB,YAAM,IAAIG,KAAJ,CAAU,2CAAV,CAAN;AACD;;AAED9B,IAAAA,MAAM,CAACE,UAAP,GAAoB,YAAW;AAC7B,YAAM6B,OAAO,GAAGJ,IAAI,CAACK,KAAL,CAAW,IAAX,EAAiBC,SAAjB,CAAhB;;AACA,UAAI,CAACF,OAAD,IAAYzC,iBAAiB,CAACyC,OAAD,CAAjC,EAA4C;AAC1C,eAAOA,OAAO,IAAI,EAAlB;AACD,OAFD,MAEO;AACLG,QAAAA,OAAO,CAACC,KAAR,CACE,4EADF;AAGA,eAAO,EAAP;AACD;AACF,KAVD;AAWD,GAtDc;;AAwDflC,EAAAA,SAAS,CAAC0B,IAAD,EAAO;AACd,QAAI,CAACC,CAAC,CAACC,UAAF,CAAaF,IAAb,CAAL,EAAyB;AACvB,YAAM,IAAIG,KAAJ,CAAU,0CAAV,CAAN;AACD;;AAED9B,IAAAA,MAAM,CAACC,SAAP,GAAmB,YAAW;AAC5B,YAAM8B,OAAO,GAAGJ,IAAI,CAACK,KAAL,CAAW,IAAX,EAAiBC,SAAjB,CAAhB;;AACA,UAAI,CAACF,OAAD,IAAYzC,iBAAiB,CAACyC,OAAD,CAAjC,EAA4C;AAC1C,eAAOA,OAAO,IAAI,EAAlB;AACD,OAFD,MAEO;AACLG,QAAAA,OAAO,CAACC,KAAR,CACE,2EADF;AAGA,eAAO,EAAP;AACD;AACF,KAVD;AAWD,GAxEc;;AA0EfC,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,aAAD,qBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,oBAAC,MAAD,qBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,GAAZ;AAAgB,MAAA,KAAK,MAArB;AAAsB,MAAA,SAAS,EAAE,KAAKC,OAAL;AAAjC,MADF,eAEE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAE,KAAKC,SAAL;AAAhC,MAFF,eAGE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAE,KAAKC,SAAL;AAAhC,MAHF,CADF,CADF,CADF;AAWD,GAtFc;;AAwFfF,EAAAA,OAAO,GAAG;AACR,WAAOvC,mBAAmB,CAACC,eAAD,EAAkBC,MAAlB,CAA1B;AACD,GA1Fc;;AA2FfsC,EAAAA,SAAS,GAAgC;AAAA,QAA/B;AAAEE,MAAAA,SAAS,GAAG;AAAd,KAA+B,uEAAJ,EAAI;AACvC,WAAO3C,mBAAmB,CAACL,KAAD,EAAQ;AAAEgD,MAAAA;AAAF,KAAR,CAA1B;AACD,GA7Fc;;AA8FfD,EAAAA,SAAS,GAAgC;AAAA,QAA/B;AAAEE,MAAAA,SAAS,GAAG;AAAd,KAA+B,uEAAJ,EAAI;AACvC,WAAO5C,mBAAmB,CAACH,KAAD,EAAQ;AAAE+C,MAAAA;AAAF,KAAR,CAA1B;AACD;;AAhGc,CAAjB;AAtBAhE,MAAM,CAACiE,aAAP,CAyHevC,QAzHf","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { isReactComponents } from \"./lib/utils\";\nimport \"./startup/client/index.js\";\nimport About from \"./ui/components/About.jsx\";\nimport Admin from \"./ui/components/Admin.jsx\";\nimport Centered from \"./ui/components/Centered.jsx\";\nimport Consent, { ConsentButton } from \"./ui/components/Consent.jsx\";\nimport Login from \"./ui/components/Login.jsx\";\nimport NewPlayer from \"./ui/components/NewPlayer.jsx\";\nimport NoBatch from \"./ui/components/NoBatch\";\nimport StageTimeWrapper from \"./ui/components/StageTimeWrapper.jsx\";\nimport { AlertToaster } from \"./ui/components/Toasters.jsx\";\nimport AuthorizedContainer from \"./ui/containers/AuthorizedContainer.jsx\";\nimport IdentifiedContainer from \"./ui/containers/IdentifiedContainer.jsx\";\nimport PublicContainer from \"./ui/containers/PublicContainer.jsx\";\n\nconst config = {\n  exitSteps: () => [],\n  introSteps: () => []\n};\n\nconst Empirica = {\n  about(AboutComp) {\n    config.About = AboutComp || About;\n  },\n\n  noBatch(NoBatchComp) {\n    config.NoBatch = NoBatchComp || NoBatch;\n  },\n\n  consent(ConsentComp) {\n    config.Consent = ConsentComp || Consent;\n  },\n\n  newPlayer(NewPlayerComp) {\n    config.NewPlayer = NewPlayerComp || NewPlayer;\n  },\n\n  round(RoundComp) {\n    config.Round = RoundComp;\n  },\n\n  header(HeaderComp) {\n    config.Header = HeaderComp;\n  },\n\n  // gameLobby, treatment, player\n  lobby(LobbyComp) {\n    config.Lobby = LobbyComp;\n  },\n\n  breadcrumb(BreadcrumbComp) {\n    config.Breadcrumb = BreadcrumbComp;\n  },\n\n  waiting(WaitingComp) {\n    config.Waiting = WaitingComp;\n  },\n\n  introSteps(func) {\n    if (!_.isFunction(func)) {\n      throw new Error(\"Empirica.introSteps() requires a function\");\n    }\n\n    config.introSteps = function() {\n      const results = func.apply(null, arguments);\n      if (!results || isReactComponents(results)) {\n        return results || [];\n      } else {\n        console.error(\n          \"Empirica.introSteps() is not returning an array of components as expected.\"\n        );\n        return [];\n      }\n    };\n  },\n\n  exitSteps(func) {\n    if (!_.isFunction(func)) {\n      throw new Error(\"Empirica.exitSteps() requires a function\");\n    }\n\n    config.exitSteps = function() {\n      const results = func.apply(null, arguments);\n      if (!results || isReactComponents(results)) {\n        return results || [];\n      } else {\n        console.error(\n          \"Empirica.exitSteps() is not returning an array of components as expected.\"\n        );\n        return [];\n      }\n    };\n  },\n\n  routes() {\n    return (\n      <BrowserRouter>\n        <div className=\"app\">\n          <Switch>\n            <Route path=\"/\" exact component={this.appComp()} />\n            <Route path=\"/admin\" component={this.adminComp()} />\n            <Route path=\"/login\" component={this.loginComp()} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    );\n  },\n\n  appComp() {\n    return IdentifiedContainer(PublicContainer, config);\n  },\n  adminComp({ loginPath = \"/login\" } = {}) {\n    return AuthorizedContainer(Admin, { loginPath });\n  },\n  loginComp({ adminPath = \"/admin\" } = {}) {\n    return AuthorizedContainer(Login, { adminPath });\n  }\n};\n\nexport default Empirica;\nexport { StageTimeWrapper, Centered, AlertToaster, ConsentButton };\n"]},"sourceType":"module","hash":"9f00ad54017ba49697e58d6a6bb2e40b9d24cee2"}
