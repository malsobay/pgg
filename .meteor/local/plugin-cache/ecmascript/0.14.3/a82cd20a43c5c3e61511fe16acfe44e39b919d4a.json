{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/tilenbabnik/Desktop/pgg/packages/empirica:core/ui/components/admin/AdminBatches.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/empirica:core/ui/components/admin/AdminBatches.jsx","filename":"/Users/tilenbabnik/Desktop/pgg/packages/empirica:core/ui/components/admin/AdminBatches.jsx","passPerPreset":false,"envName":"development","cwd":"/Users/tilenbabnik/Desktop/pgg","root":"/Users/tilenbabnik/Desktop/pgg","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.9.2","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/tilenbabnik/Desktop/pgg/packages/empirica:core/ui/components/admin/AdminBatches.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/empirica:core/ui/components/admin/AdminBatches.jsx"}},"code":"var _createSuper;\n\nmodule.link(\"@babel/runtime/helpers/createSuper\", {\n  default: function (v) {\n    _createSuper = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nmodule.export({\n  \"default\": function () {\n    return AdminBatches;\n  }\n});\nvar Button, Callout, HTMLTable;\nmodule.link(\"@blueprintjs/core\", {\n  Button: function (v) {\n    Button = v;\n  },\n  Callout: function (v) {\n    Callout = v;\n  },\n  HTMLTable: function (v) {\n    HTMLTable = v;\n  }\n}, 0);\nvar IconNames;\nmodule.link(\"@blueprintjs/icons\", {\n  IconNames: function (v) {\n    IconNames = v;\n  }\n}, 1);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 2);\nvar Link;\nmodule.link(\"react-router-dom\", {\n  Link: function (v) {\n    Link = v;\n  }\n}, 3);\nvar duplicateBatch, setBatchInDebugMode, updateBatchStatus;\nmodule.link(\"../../../api/batches/methods\", {\n  duplicateBatch: function (v) {\n    duplicateBatch = v;\n  },\n  setBatchInDebugMode: function (v) {\n    setBatchInDebugMode = v;\n  },\n  updateBatchStatus: function (v) {\n    updateBatchStatus = v;\n  }\n}, 4);\nvar Loading;\nmodule.link(\"../Loading.jsx\", {\n  \"default\": function (v) {\n    Loading = v;\n  }\n}, 5);\nvar AdminBatch;\nmodule.link(\"./AdminBatch\", {\n  \"default\": function (v) {\n    AdminBatch = v;\n  }\n}, 6);\nvar AdminPageHeader;\nmodule.link(\"./AdminHeading.jsx\", {\n  AdminPageHeader: function (v) {\n    AdminPageHeader = v;\n  }\n}, 7);\nvar AdminNewBatch;\nmodule.link(\"./AdminNewBatch.jsx\", {\n  \"default\": function (v) {\n    AdminNewBatch = v;\n  }\n}, 8);\n\nvar AdminBatches = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(AdminBatches, _React$Component);\n\n  var _super = _createSuper(AdminBatches);\n\n  function AdminBatches() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      newIsOpen: false\n    };\n\n    _this.handleStatusChange = function (_id, status, debugMode, event) {\n      event.preventDefault();\n\n      if ((Meteor.isDevelopment || Meteor.settings.public.debug_gameDebugMode) && status === \"running\" && ( // mac: metaKey (command), window: ctrlKey (Ctrl)\n      event.ctrlKey || event.metaKey || debugMode)) {\n        setBatchInDebugMode.call({\n          _id: _id\n        });\n      }\n\n      updateBatchStatus.call({\n        _id: _id,\n        status: status\n      });\n    };\n\n    _this.handleDuplicate = function (_id, event) {\n      event.preventDefault();\n      duplicateBatch.call({\n        _id: _id\n      });\n    };\n\n    return _this;\n  }\n\n  var _proto = AdminBatches.prototype;\n\n  _proto.render = function () {\n    function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          loading = _this$props.loading,\n          batches = _this$props.batches,\n          treatments = _this$props.treatments,\n          factors = _this$props.factors,\n          lobbyConfigs = _this$props.lobbyConfigs,\n          archived = _this$props.archived;\n      var newIsOpen = this.state.newIsOpen;\n\n      if (loading) {\n        return /*#__PURE__*/React.createElement(Loading, null);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"batches\"\n      }, archived ? /*#__PURE__*/React.createElement(Link, {\n        to: \"/admin\",\n        className: \"archived-button bp3-button bp3-minimal\"\n      }, \"Back to Active Batches\") : /*#__PURE__*/React.createElement(Link, {\n        to: \"/admin/batches/archived\",\n        className: \"archived-button bp3-button bp3-minimal\"\n      }, \"View Archived Batches\"), /*#__PURE__*/React.createElement(AdminPageHeader, {\n        icon: IconNames.LAYERS\n      }, archived ? \"Archived Batches\" : \"Batches\", !archived ? /*#__PURE__*/React.createElement(Button, {\n        text: \"New Batch\",\n        onClick: function () {\n          return _this2.setState({\n            newIsOpen: true\n          });\n        }\n      }) : \"\"), batches.length === 0 ? /*#__PURE__*/React.createElement(Callout, null, archived ? \"No archived batches.\" : \"No batches yet, create one above.\") : /*#__PURE__*/React.createElement(HTMLTable, {\n        className: \"double-stripped\"\n      }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"th\", null), /*#__PURE__*/React.createElement(\"th\", null, \"#\"), /*#__PURE__*/React.createElement(\"th\", null, \"Status\"), /*#__PURE__*/React.createElement(\"th\", null, \"Game Count\"), /*#__PURE__*/React.createElement(\"th\", null, \"Started At\"), /*#__PURE__*/React.createElement(\"th\", null, \"Assignment\"), /*#__PURE__*/React.createElement(\"th\", null, \"Configuration\"), /*#__PURE__*/React.createElement(\"th\", null))), /*#__PURE__*/React.createElement(\"tbody\", null, batches.map(function (batch) {\n        return /*#__PURE__*/React.createElement(AdminBatch, {\n          key: batch._id,\n          batch: batch,\n          treatments: treatments,\n          archived: archived\n        });\n      }))), !archived ? /*#__PURE__*/React.createElement(AdminNewBatch, {\n        treatments: treatments,\n        factors: factors,\n        lobbyConfigs: lobbyConfigs,\n        isOpen: newIsOpen,\n        onClose: function () {\n          return _this2.setState({\n            newIsOpen: false\n          });\n        }\n      }) : \"\");\n    }\n\n    return render;\n  }();\n\n  return AdminBatches;\n}(React.Component);","map":{"version":3,"sources":["packages/empirica:core/ui/components/admin/AdminBatches.jsx"],"names":["_createSuper","module","link","default","v","_inheritsLoose","export","AdminBatches","Button","Callout","HTMLTable","IconNames","React","Link","duplicateBatch","setBatchInDebugMode","updateBatchStatus","Loading","AdminBatch","AdminPageHeader","AdminNewBatch","state","newIsOpen","handleStatusChange","_id","status","debugMode","event","preventDefault","Meteor","isDevelopment","settings","public","debug_gameDebugMode","ctrlKey","metaKey","call","handleDuplicate","render","props","loading","batches","treatments","factors","lobbyConfigs","archived","LAYERS","setState","length","map","batch","Component"],"mappings":"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","sourcesContent":["import { Button, Callout, HTMLTable } from \"@blueprintjs/core\";\nimport { IconNames } from \"@blueprintjs/icons\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  duplicateBatch,\n  setBatchInDebugMode,\n  updateBatchStatus\n} from \"../../../api/batches/methods\";\nimport Loading from \"../Loading.jsx\";\nimport AdminBatch from \"./AdminBatch\";\nimport { AdminPageHeader } from \"./AdminHeading.jsx\";\nimport AdminNewBatch from \"./AdminNewBatch.jsx\";\n\nexport default class AdminBatches extends React.Component {\n  state = {\n    newIsOpen: false\n  };\n\n  handleStatusChange = (_id, status, debugMode, event) => {\n    event.preventDefault();\n    if (\n      (Meteor.isDevelopment || Meteor.settings.public.debug_gameDebugMode) &&\n      status === \"running\" &&\n      // mac: metaKey (command), window: ctrlKey (Ctrl)\n      (event.ctrlKey || event.metaKey || debugMode)\n    ) {\n      setBatchInDebugMode.call({ _id });\n    }\n    updateBatchStatus.call({ _id, status });\n  };\n\n  handleDuplicate = (_id, event) => {\n    event.preventDefault();\n    duplicateBatch.call({ _id });\n  };\n\n  render() {\n    const {\n      loading,\n      batches,\n      treatments,\n      factors,\n      lobbyConfigs,\n      archived\n    } = this.props;\n\n    const { newIsOpen } = this.state;\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    return (\n      <div className=\"batches\">\n        {archived ? (\n          <Link to=\"/admin\" className=\"archived-button bp3-button bp3-minimal\">\n            Back to Active Batches\n          </Link>\n        ) : (\n          <Link\n            to=\"/admin/batches/archived\"\n            className=\"archived-button bp3-button bp3-minimal\"\n          >\n            View Archived Batches\n          </Link>\n        )}\n\n        <AdminPageHeader icon={IconNames.LAYERS}>\n          {archived ? \"Archived Batches\" : \"Batches\"}\n\n          {!archived ? (\n            <Button\n              text=\"New Batch\"\n              onClick={() => this.setState({ newIsOpen: true })}\n            />\n          ) : (\n            \"\"\n          )}\n        </AdminPageHeader>\n\n        {batches.length === 0 ? (\n          <Callout>\n            {archived\n              ? \"No archived batches.\"\n              : \"No batches yet, create one above.\"}\n          </Callout>\n        ) : (\n          <HTMLTable className=\"double-stripped\">\n            <thead>\n              <tr>\n                <th />\n                <th>#</th>\n                <th>Status</th>\n                <th>Game Count</th>\n                <th>Started At</th>\n                <th>Assignment</th>\n                <th>Configuration</th>\n                <th>{/* Actions */}</th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {batches.map(batch => (\n                <AdminBatch\n                  key={batch._id}\n                  batch={batch}\n                  treatments={treatments}\n                  archived={archived}\n                />\n              ))}\n            </tbody>\n          </HTMLTable>\n        )}\n\n        {!archived ? (\n          <AdminNewBatch\n            treatments={treatments}\n            factors={factors}\n            lobbyConfigs={lobbyConfigs}\n            isOpen={newIsOpen}\n            onClose={() => this.setState({ newIsOpen: false })}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n"]},"sourceType":"module","hash":"a82cd20a43c5c3e61511fe16acfe44e39b919d4a"}
