{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/tilenbabnik/Desktop/pgg/client/game/ContributionResponse.jsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/game/ContributionResponse.jsx","filename":"/Users/tilenbabnik/Desktop/pgg/client/game/ContributionResponse.jsx","passPerPreset":false,"envName":"development","cwd":"/Users/tilenbabnik/Desktop/pgg","root":"/Users/tilenbabnik/Desktop/pgg","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.9.2","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/tilenbabnik/Desktop/pgg/client/game/ContributionResponse.jsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/game/ContributionResponse.jsx"}},"code":"var _createSuper;\n\nmodule.link(\"@babel/runtime/helpers/createSuper\", {\n  default: function (v) {\n    _createSuper = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nmodule.export({\n  \"default\": function () {\n    return ContributionResponse;\n  }\n});\nvar React, Component;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  }\n}, 0);\nmodule.link(\"./Contribution.css\");\n\nvar ContributionResponse = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ContributionResponse, _React$Component);\n\n  var _super = _createSuper(ContributionResponse);\n\n  function ContributionResponse() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.handleChange = function (event) {\n      var _this$props = _this.props,\n          player = _this$props.player,\n          game = _this$props.game;\n      var value = parseFloat(event.target.value);\n\n      if (value > game.treatment.endowment) {\n        value = game.treatment.endowment;\n      }\n\n      player.round.set(\"contribution\", value);\n    };\n\n    _this.handleSubmit = function (event) {\n      var player = _this.props.player;\n      event.preventDefault();\n\n      _this.props.player.stage.submit();\n    };\n\n    return _this;\n  }\n\n  var _proto = ContributionResponse.prototype;\n\n  _proto.renderSubmitted = function () {\n    function renderSubmitted() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contribution-response-container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contribution-submitted text-size\"\n      }, /*#__PURE__*/React.createElement(\"h5\", null, \"Waiting on other players' contributions...\")));\n    }\n\n    return renderSubmitted;\n  }();\n\n  _proto.renderInput = function () {\n    function renderInput() {\n      var _this$props2 = this.props,\n          game = _this$props2.game,\n          player = _this$props2.player;\n      var endowment = game.treatment.endowment;\n      console.log(this.props);\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        onChange: this.handleChange,\n        min: \"0\",\n        value: player.round.get(\"contribution\"),\n        max: endowment,\n        placeholder: \"Amount you would like to contribute\",\n        className: \"text-area\"\n      })), /*#__PURE__*/React.createElement(\"br\", null));\n    }\n\n    return renderInput;\n  }();\n\n  _proto.render = function () {\n    function render() {\n      var _this$props3 = this.props,\n          player = _this$props3.player,\n          game = _this$props3.game;\n      var contribution = player.round.get(\"contribution\");\n      var endowment = game.treatment.endowment;\n      var keep = endowment - parseFloat(contribution); // If the player already submitted, don't show the slider or submit button\n\n      if (player.stage.submitted) {\n        return this.renderSubmitted();\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contribution-response-container\"\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit\n      }, this.renderInput(), 0 <= parseFloat(contribution) && contribution <= endowment ? /*#__PURE__*/React.createElement(\"div\", null, \" You keep: \", keep, \" \") : null, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"contribute-button\"\n      }, \"Contribute\")));\n    }\n\n    return render;\n  }();\n\n  return ContributionResponse;\n}(React.Component);","map":{"version":3,"sources":["client/game/ContributionResponse.jsx"],"names":["_createSuper","module","link","default","v","_inheritsLoose","export","ContributionResponse","React","Component","handleChange","event","props","player","game","value","parseFloat","target","treatment","endowment","round","set","handleSubmit","preventDefault","stage","submit","renderSubmitted","renderInput","console","log","get","render","contribution","keep","submitted"],"mappings":"AAAA,IAAIA,YAAJ;;AAAiBC,MAAM,CAACC,IAAP,CAAY,oCAAZ,EAAiD;AAACC,EAAAA,OAAO,EAAC,UAASC,CAAT,EAAW;AAACJ,IAAAA,YAAY,GAACI,CAAb;AAAe;AAApC,CAAjD,EAAuF,CAAvF;;AAA0F,IAAIC,cAAJ;;AAAmBJ,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACC,EAAAA,OAAO,EAAC,UAASC,CAAT,EAAW;AAACC,IAAAA,cAAc,GAACD,CAAf;AAAiB;AAAtC,CAAnD,EAA2F,CAA3F;AAA9HH,MAAM,CAACK,MAAP,CAAc;AAAC,aAAQ,YAAU;AAAC,WAAOC,oBAAP;AAA4B;AAAhD,CAAd;AAAiE,IAAIC,KAAJ,EAAUC,SAAV;AAAoBR,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAAC,aAAQ,UAASE,CAAT,EAAW;AAACI,IAAAA,KAAK,GAACJ,CAAN;AAAQ,GAA7B;AAA8BK,EAAAA,SAAS,EAAC,UAASL,CAAT,EAAW;AAACK,IAAAA,SAAS,GAACL,CAAV;AAAY;AAAhE,CAApB,EAAsF,CAAtF;AAAyFH,MAAM,CAACC,IAAP,CAAY,oBAAZ;;IAGzJK,oB;;;;;;;;;;;;;;UACnBG,Y,GAAe,UAACC,KAAD,EAAW;AAAA,wBACC,MAAKC,KADN;AAAA,UAChBC,MADgB,eAChBA,MADgB;AAAA,UACRC,IADQ,eACRA,IADQ;AAExB,UAAIC,KAAK,GAAGC,UAAU,CAACL,KAAK,CAACM,MAAN,CAAaF,KAAd,CAAtB;;AACA,UAAGA,KAAK,GAAGD,IAAI,CAACI,SAAL,CAAeC,SAA1B,EAAoC;AAClCJ,QAAAA,KAAK,GAAGD,IAAI,CAACI,SAAL,CAAeC,SAAvB;AACD;;AACDN,MAAAA,MAAM,CAACO,KAAP,CAAaC,GAAb,CAAiB,cAAjB,EAAiCN,KAAjC;AACD,K;;UAEDO,Y,GAAe,UAACX,KAAD,EAAW;AAAA,UAChBE,MADgB,GACL,MAAKD,KADA,CAChBC,MADgB;AAExBF,MAAAA,KAAK,CAACY,cAAN;;AACA,YAAKX,KAAL,CAAWC,MAAX,CAAkBW,KAAlB,CAAwBC,MAAxB;AACD,K;;;;;;;SAEDC,e;AAAA,+BAAkB;AAChB,0BACE;AAAK,QAAA,SAAS,EAAC;AAAf,sBACE;AAAK,QAAA,SAAS,EAAC;AAAf,sBACE,6EADF,CADF,CADF;AAOD;;;;;SAEDC,W;AAAA,2BAAc;AAAA,yBACa,KAAKf,KADlB;AAAA,UACJE,IADI,gBACJA,IADI;AAAA,UACED,MADF,gBACEA,MADF;AAEZ,UAAMM,SAAS,GAAGL,IAAI,CAACI,SAAL,CAAeC,SAAjC;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAjB;AACA,0BACE,8CACE,gDACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,QAAQ,EAAE,KAAKF,YAFjB;AAGE,QAAA,GAAG,EAAC,GAHN;AAIE,QAAA,KAAK,EAAEG,MAAM,CAACO,KAAP,CAAaU,GAAb,CAAiB,cAAjB,CAJT;AAKE,QAAA,GAAG,EAAEX,SALP;AAME,QAAA,WAAW,EAAC,qCANd;AAOE,QAAA,SAAS,EAAC;AAPZ,QADF,CADF,eAYE,+BAZF,CADF;AA2BD;;;;;SAEDY,M;AAAA,sBAAS;AAAA,yBACkB,KAAKnB,KADvB;AAAA,UACCC,MADD,gBACCA,MADD;AAAA,UACSC,IADT,gBACSA,IADT;AAEP,UAAMkB,YAAY,GAAGnB,MAAM,CAACO,KAAP,CAAaU,GAAb,CAAiB,cAAjB,CAArB;AACA,UAAMX,SAAS,GAAGL,IAAI,CAACI,SAAL,CAAeC,SAAjC;AACA,UAAMc,IAAI,GAAGd,SAAS,GAAGH,UAAU,CAACgB,YAAD,CAAnC,CAJO,CAKP;;AACA,UAAInB,MAAM,CAACW,KAAP,CAAaU,SAAjB,EAA4B;AAC1B,eAAO,KAAKR,eAAL,EAAP;AACD;;AAED,0BACE;AAAK,QAAA,SAAS,EAAC;AAAf,sBACE;AAAM,QAAA,QAAQ,EAAE,KAAKJ;AAArB,SACG,KAAKK,WAAL,EADH,EAIG,KAAKX,UAAU,CAACgB,YAAD,CAAf,IAAiCA,YAAY,IAAIb,SAAjD,gBACC,gDAAiBc,IAAjB,MADD,GAEG,IANN,eAQE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC;AAAhC,sBARF,CADF,CADF;AAgBD;;;;;;EArF+CzB,KAAK,CAACC,S","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Contribution.css\";\n\nexport default class ContributionResponse extends React.Component {\n  handleChange = (event) => {\n    const { player, game } = this.props;\n    let value = parseFloat(event.target.value);\n    if(value > game.treatment.endowment){\n      value = game.treatment.endowment;\n    }\n    player.round.set(\"contribution\", value);\n  };\n\n  handleSubmit = (event) => {\n    const { player } = this.props;\n    event.preventDefault();\n    this.props.player.stage.submit();\n  };\n\n  renderSubmitted() {\n    return (\n      <div className=\"contribution-response-container\">\n        <div className=\"contribution-submitted text-size\">\n          <h5>Waiting on other players' contributions...</h5>\n        </div>\n      </div>\n    );\n  }\n\n  renderInput() {\n    const { game, player } = this.props;\n    const endowment = game.treatment.endowment;\n    console.log(this.props)\n    return (\n      <div>\n        <label>\n          <input\n            type=\"number\"\n            onChange={this.handleChange}\n            min=\"0\"\n            value={player.round.get(\"contribution\")}\n            max={endowment}\n            placeholder=\"Amount you would like to contribute\"\n            className=\"text-area\"\n          />\n        </label>\n        <br></br>\n        {/*\n        <label>\n          <input\n            type=\"radio\"\n            value=\"Contribute\"\n            checked={value == \"Contribute\"}\n            onChange={this.handleChange}\n          />\n          Contribute\n        </label>\n    */}\n      </div>\n    );\n  }\n\n  render() {\n    const { player, game } = this.props;\n    const contribution = player.round.get(\"contribution\");\n    const endowment = game.treatment.endowment;\n    const keep = endowment - parseFloat(contribution);\n    // If the player already submitted, don't show the slider or submit button\n    if (player.stage.submitted) {\n      return this.renderSubmitted();\n    }\n\n    return (\n      <div className=\"contribution-response-container\">\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput()}\n\n          {/*<div>Contribute: {contribution} </div>*/}\n          {0 <= parseFloat(contribution) && contribution <= endowment ? (\n            <div> You keep: {keep} </div>\n          ) : null}\n\n          <button type=\"submit\" className=\"contribute-button\">\n            Contribute\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"sourceType":"module","hash":"b5e9594b0936cf0b84cfa3b3e468e526b13a3f39"}
